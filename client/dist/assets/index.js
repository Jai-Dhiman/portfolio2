const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage.js","assets/three.js","assets/vendor.js","assets/animations.js","assets/ui.js"])))=>i.map(i=>d[i]);
var vi=Object.defineProperty;var pi=(e,t,n)=>t in e?vi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var le=(e,t,n)=>pi(e,typeof t!="symbol"?t+"":t,n);import{j as R,_ as gi,c as mi}from"./three.js";import{r as se,L as yi,R as bi,B as Ei,b as _i,c as yt,N as Zt,u as Ti}from"./vendor.js";import{Q as wi,a as Si}from"./ui.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(i){if(i.ep)return;i.ep=!0;const u=n(i);fetch(i.href,u)}})();function Ii(){const[e,t]=se.useState(()=>{if(typeof window<"u"){const n=localStorage.getItem("theme");return n==="dark"||!n&&window.matchMedia("(prefers-color-scheme: dark)").matches}return!1});return se.useEffect(()=>{e?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[e]),{darkMode:e,setDarkMode:t}}function Wc(){const[e,t]=se.useState(()=>typeof window<"u"?document.documentElement.classList.contains("dark"):!1);return se.useEffect(()=>{const n=()=>{t(document.documentElement.classList.contains("dark"))};n();const r=new MutationObserver(n);return r.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>r.disconnect()},[]),e}function Kc(){const[e,t]=se.useState(()=>typeof window<"u"?window.matchMedia("(prefers-reduced-motion: reduce)").matches:!1);return se.useEffect(()=>{const n=window.matchMedia("(prefers-reduced-motion: reduce)"),r=i=>{t(i.matches)};return n.addEventListener("change",r),()=>n.removeEventListener("change",r)},[]),e}function Ai(){const{darkMode:e,setDarkMode:t}=Ii();return se.useState(!1),R.jsx("nav",{className:"sticky top-0 z-50 glass-effect",children:R.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[R.jsx(yi,{to:"/",className:"h-8",children:R.jsx("img",{src:"/icons/portfolioIcon.png",alt:"Jai Dhiman",className:"h-full w-auto object-contain hover-lift"})}),R.jsx("div",{className:"hidden md:flex items-center gap-6"}),R.jsx("div",{className:"flex items-center gap-4",children:R.jsx("button",{onClick:()=>t(!e),className:"btn-secondary p-2","aria-label":"Toggle theme",children:e?R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})})})]})})}function ki(){const e=[{name:"GitHub",url:"https://github.com/Jai-Dhiman",icon:R.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{d:"M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"})})},{name:"LinkedIn",url:"https://linkedin.com/in/Jai-D",icon:R.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}];return R.jsx("footer",{className:"mt-auto py-8 glass-effect",children:R.jsx("div",{className:"container mx-auto px-4",children:R.jsxs("div",{className:"flex flex-col items-center gap-4",children:[R.jsx("div",{className:"flex gap-6",children:e.map(t=>R.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"nav-link hover-lift","aria-label":t.name,download:t.name==="Resume",children:t.icon},t.name))}),R.jsxs("p",{className:"text-sm highlight",children:["Â© ",new Date().getFullYear()," Jai Dhiman"]})]})})})}function Pi({children:e}){return R.jsxs("div",{className:"min-h-screen",children:[R.jsx(Ai,{}),R.jsx("main",{className:"container mx-auto px-4 py-8",children:e}),R.jsx(ki,{})]})}const Ci=()=>R.jsx("div",{className:"loader",children:R.jsx("div",{className:"loader-dot"})});var Ct=function(e,t){return Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ct(e,t)};function J(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ct(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var S=function(){return S=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},S.apply(this,arguments)};function Rt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function _(e,t,n,r){function i(u){return u instanceof n?u:new n(function(a){a(u)})}return new(n||(n=Promise))(function(u,a){function o(d){try{s(r.next(d))}catch(f){a(f)}}function c(d){try{s(r.throw(d))}catch(f){a(f)}}function s(d){d.done?u(d.value):i(d.value).then(o,c)}s((r=r.apply(e,t||[])).next())})}function E(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,i,u,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(s){return function(d){return c([s,d])}}function c(s){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(n=0)),n;)try{if(r=1,i&&(u=s[0]&2?i.return:s[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,s[1])).done)return u;switch(i=0,u&&(s=[s[0]&2,u.value]),s[0]){case 0:case 1:u=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!u||s[1]>u[0]&&s[1]<u[3])){n.label=s[1];break}if(s[0]===6&&n.label<u[1]){n.label=u[1],u=s;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(s);break}u[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(d){s=[6,d],i=0}finally{r=u=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function L(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function C(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,u=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)u.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return u}function x(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,u;r<i;r++)(u||!(r in t))&&(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return e.concat(u||Array.prototype.slice.call(t))}function Se(e){return this instanceof Se?(this.v=e,this):new Se(e)}function Ri(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,u=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(l){return function(v){return Promise.resolve(v).then(l,f)}}function o(l,v){r[l]&&(i[l]=function(m){return new Promise(function(y,p){u.push([l,m,y,p])>1||c(l,m)})},v&&(i[l]=v(i[l])))}function c(l,v){try{s(r[l](v))}catch(m){h(u[0][3],m)}}function s(l){l.value instanceof Se?Promise.resolve(l.value.v).then(d,f):h(u[0][2],l)}function d(l){c("next",l)}function f(l){c("throw",l)}function h(l,v){l(v),u.shift(),u.length&&c(u[0][0],u[0][1])}}function Oi(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof L=="function"?L(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(u){n[u]=e[u]&&function(a){return new Promise(function(o,c){a=e[u](a),i(o,c,a.done,a.value)})}}function i(u,a,o,c){Promise.resolve(c).then(function(s){u({value:s,done:o})},a)}}var Te;(function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"})(Te||(Te={}));var pe;(function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"})(pe||(pe={}));var en="-",ot="AMP",Li="".concat(ot,"_unsent"),rr="https://api2.amplitude.com/2/httpapi",xi="https://api.eu.amplitude.com/2/httpapi",Ni="https://api2.amplitude.com/batch",Di="https://api.eu.amplitude.com/batch",Ui=1e3,Ot=function(e){if(Object.keys(e).length>Ui)return!1;for(var t in e){var n=e[t];if(!ir(t,n))return!1}return!0},ir=function(e,t){var n,r;if(typeof e!="string")return!1;if(Array.isArray(t)){var i=!0;try{for(var u=L(t),a=u.next();!a.done;a=u.next()){var o=a.value;if(Array.isArray(o))return!1;if(typeof o=="object")i=i&&Ot(o);else if(!["number","string"].includes(typeof o))return!1;if(!i)return!1}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}else{if(t==null)return!1;if(typeof t=="object")return Ot(t);if(!["number","string","boolean"].includes(typeof t))return!1}return!0},Ze=function(){function e(){this._propertySet=new Set,this._properties={}}return e.prototype.getUserProperties=function(){return S({},this._properties)},e.prototype.set=function(t,n){return this._safeSet(N.SET,t,n),this},e.prototype.setOnce=function(t,n){return this._safeSet(N.SET_ONCE,t,n),this},e.prototype.append=function(t,n){return this._safeSet(N.APPEND,t,n),this},e.prototype.prepend=function(t,n){return this._safeSet(N.PREPEND,t,n),this},e.prototype.postInsert=function(t,n){return this._safeSet(N.POSTINSERT,t,n),this},e.prototype.preInsert=function(t,n){return this._safeSet(N.PREINSERT,t,n),this},e.prototype.remove=function(t,n){return this._safeSet(N.REMOVE,t,n),this},e.prototype.add=function(t,n){return this._safeSet(N.ADD,t,n),this},e.prototype.unset=function(t){return this._safeSet(N.UNSET,t,en),this},e.prototype.clearAll=function(){return this._properties={},this._properties[N.CLEAR_ALL]=en,this},e.prototype._safeSet=function(t,n,r){if(this._validate(t,n,r)){var i=this._properties[t];return i===void 0&&(i={},this._properties[t]=i),i[n]=r,this._propertySet.add(n),!0}return!1},e.prototype._validate=function(t,n,r){return this._properties[N.CLEAR_ALL]!==void 0||this._propertySet.has(n)?!1:t===N.ADD?typeof r=="number":t!==N.UNSET&&t!==N.REMOVE?ir(n,r):!0},e}(),N;(function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"})(N||(N={}));var Mi=[N.CLEAR_ALL,N.UNSET,N.SET,N.SET_ONCE,N.ADD,N.APPEND,N.PREPEND,N.PREINSERT,N.POSTINSERT,N.REMOVE],Fi="Event tracked successfully",ji="Unexpected error occurred",qi="Event rejected due to exceeded retry count",Vi="Event skipped due to optOut config",$i="Event rejected due to missing API key",Bi="Invalid API key",Gi="Client not initialized",$;(function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"})($||($={}));var Ie=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=$.Unknown),{event:e,code:t,message:n}},H=function(){var e="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[e]<"u")return globalThis[e];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global},Hi=function(e){return e?(e^Math.random()*16>>e/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,be)},tn=x([],C(Array(256).keys()),!1).map(function(e){return e.toString(16).padStart(2,"0")}),be=function(e){var t,n=H();if(!(!((t=n==null?void 0:n.crypto)===null||t===void 0)&&t.getRandomValues))return Hi(e);var r=n.crypto.getRandomValues(new Uint8Array(16));return r[6]=r[6]&15|64,r[8]=r[8]&63|128,x([],C(r.entries()),!1).map(function(i){var u=C(i,2),a=u[0],o=u[1];return[4,6,8,10].includes(a)?"-".concat(tn[o]):tn[o]}).join("")},Wi=function(){function e(t){this.client=t,this.queue=[],this.applying=!1,this.plugins=[]}return e.prototype.register=function(t,n){var r,i;return _(this,void 0,void 0,function(){return E(this,function(u){switch(u.label){case 0:return this.plugins.some(function(a){return a.name===t.name})?(this.loggerProvider.warn("Plugin with name ".concat(t.name," already exists, skipping registration")),[2]):(t.name===void 0&&(t.name=be(),this.loggerProvider.warn(`Plugin name is undefined. 
      Generating a random UUID for plugin name: `.concat(t.name,`. 
      Set a name for the plugin to prevent it from being added multiple times.`))),t.type=(r=t.type)!==null&&r!==void 0?r:"enrichment",[4,(i=t.setup)===null||i===void 0?void 0:i.call(t,n,this.client)]);case 1:return u.sent(),this.plugins.push(t),[2]}})})},e.prototype.deregister=function(t,n){var r;return _(this,void 0,void 0,function(){var i,u;return E(this,function(a){switch(a.label){case 0:return i=this.plugins.findIndex(function(o){return o.name===t}),i===-1?(n.loggerProvider.warn("Plugin with name ".concat(t," does not exist, skipping deregistration")),[2]):(u=this.plugins[i],this.plugins.splice(i,1),[4,(r=u.teardown)===null||r===void 0?void 0:r.call(u)]);case 1:return a.sent(),[2]}})})},e.prototype.reset=function(t){this.applying=!1;var n=this.plugins;n.map(function(r){var i;return(i=r.teardown)===null||i===void 0?void 0:i.call(r)}),this.plugins=[],this.client=t},e.prototype.push=function(t){var n=this;return new Promise(function(r){n.queue.push([t,r]),n.scheduleApply(0)})},e.prototype.scheduleApply=function(t){var n=this;this.applying||(this.applying=!0,setTimeout(function(){n.apply(n.queue.shift()).then(function(){n.applying=!1,n.queue.length>0&&n.scheduleApply(0)})},t))},e.prototype.apply=function(t){return _(this,void 0,void 0,function(){var n,r,i,u,a,o,c,l,v,s,d,f,h,l,v,m,y,p,g,b,T,I;return E(this,function(w){switch(w.label){case 0:if(!t)return[2];n=C(t,1),r=n[0],i=C(t,2),u=i[1],this.loggerProvider.log("Timeline.apply: Initial event",r),a=this.plugins.filter(function(A){return A.type==="before"}),w.label=1;case 1:w.trys.push([1,6,7,8]),o=L(a),c=o.next(),w.label=2;case 2:return c.done?[3,5]:(l=c.value,l.execute?[4,l.execute(S({},r))]:[3,4]);case 3:if(v=w.sent(),v===null)return this.loggerProvider.log("Timeline.apply: Event filtered out by before plugin '".concat(String(l.name),"', event: ").concat(JSON.stringify(r))),u({event:r,code:0,message:""}),[2];r=v,this.loggerProvider.log("Timeline.apply: Event after before plugin '".concat(String(l.name),"', event: ").concat(JSON.stringify(r))),w.label=4;case 4:return c=o.next(),[3,2];case 5:return[3,8];case 6:return s=w.sent(),g={error:s},[3,8];case 7:try{c&&!c.done&&(b=o.return)&&b.call(o)}finally{if(g)throw g.error}return[7];case 8:d=this.plugins.filter(function(A){return A.type==="enrichment"||A.type===void 0}),w.label=9;case 9:w.trys.push([9,14,15,16]),f=L(d),h=f.next(),w.label=10;case 10:return h.done?[3,13]:(l=h.value,l.execute?[4,l.execute(S({},r))]:[3,12]);case 11:if(v=w.sent(),v===null)return this.loggerProvider.log("Timeline.apply: Event filtered out by enrichment plugin '".concat(String(l.name),"', event: ").concat(JSON.stringify(r))),u({event:r,code:0,message:""}),[2];r=v,this.loggerProvider.log("Timeline.apply: Event after enrichment plugin '".concat(String(l.name),"', event: ").concat(JSON.stringify(r))),w.label=12;case 12:return h=f.next(),[3,10];case 13:return[3,16];case 14:return m=w.sent(),T={error:m},[3,16];case 15:try{h&&!h.done&&(I=f.return)&&I.call(f)}finally{if(T)throw T.error}return[7];case 16:return y=this.plugins.filter(function(A){return A.type==="destination"}),this.loggerProvider.log("Timeline.apply: Final event before destinations, event: ".concat(JSON.stringify(r))),p=y.map(function(A){var P=S({},r);return A.execute(P).catch(function(O){return Ie(P,0,String(O))})}),Promise.all(p).then(function(A){var P=C(A,1),O=P[0],M=O||Ie(r,100,"Event not tracked, no destination plugins on the instance");u(M)}),[2]}})})},e.prototype.flush=function(){return _(this,void 0,void 0,function(){var t,n,r,i=this;return E(this,function(u){switch(u.label){case 0:return t=this.queue,this.queue=[],[4,Promise.all(t.map(function(a){return i.apply(a)}))];case 1:return u.sent(),n=this.plugins.filter(function(a){return a.type==="destination"}),r=n.map(function(a){return a.flush&&a.flush()}),[4,Promise.all(r)];case 2:return u.sent(),[2]}})})},e.prototype.onIdentityChanged=function(t){this.plugins.forEach(function(n){var r;(r=n.onIdentityChanged)===null||r===void 0||r.call(n,t)})},e.prototype.onSessionIdChanged=function(t){this.plugins.forEach(function(n){var r;(r=n.onSessionIdChanged)===null||r===void 0||r.call(n,t)})},e.prototype.onOptOutChanged=function(t){this.plugins.forEach(function(n){var r;(r=n.onOptOutChanged)===null||r===void 0||r.call(n,t)})},e}(),Ki=function(e,t,n){var r=typeof e=="string"?{event_type:e}:e;return S(S(S({},r),n),t&&{event_properties:t})},ur=function(e,t){var n=S(S({},t),{event_type:pe.IDENTIFY,user_properties:e.getUserProperties()});return n},zi=function(e,t,n,r){var i,u=S(S({},r),{event_type:pe.GROUP_IDENTIFY,group_properties:n.getUserProperties(),groups:(i={},i[e]=t,i)});return u},Yi=function(e,t,n){var r,i=new Ze;i.set(e,t);var u=S(S({},n),{event_type:pe.IDENTIFY,user_properties:i.getUserProperties(),groups:(r={},r[e]=t,r)});return u},Xi=function(e,t){return S(S({},t),{event_type:pe.REVENUE,event_properties:e.getEventProperties()})},ee=function(e){return{promise:e||Promise.resolve()}},Qi=function(){function e(t){t===void 0&&(t="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new Wi(this),this.name=t}return e.prototype._init=function(t){return _(this,void 0,void 0,function(){return E(this,function(n){switch(n.label){case 0:return this.config=t,this.timeline.reset(this),this.timeline.loggerProvider=this.config.loggerProvider,[4,this.runQueuedFunctions("q")];case 1:return n.sent(),this.isReady=!0,[2]}})})},e.prototype.runQueuedFunctions=function(t){return _(this,void 0,void 0,function(){var n,r,i,u,a,o,c,s;return E(this,function(d){switch(d.label){case 0:n=this[t],this[t]=[],d.label=1;case 1:d.trys.push([1,8,9,10]),r=L(n),i=r.next(),d.label=2;case 2:return i.done?[3,7]:(u=i.value,a=u(),a&&"promise"in a?[4,a.promise]:[3,4]);case 3:return d.sent(),[3,6];case 4:return[4,a];case 5:d.sent(),d.label=6;case 6:return i=r.next(),[3,2];case 7:return[3,10];case 8:return o=d.sent(),c={error:o},[3,10];case 9:try{i&&!i.done&&(s=r.return)&&s.call(r)}finally{if(c)throw c.error}return[7];case 10:return this[t].length?[4,this.runQueuedFunctions(t)]:[3,12];case 11:d.sent(),d.label=12;case 12:return[2]}})})},e.prototype.track=function(t,n,r){var i=Ki(t,n,r);return ee(this.dispatch(i))},e.prototype.identify=function(t,n){var r=ur(t,n);return ee(this.dispatch(r))},e.prototype.groupIdentify=function(t,n,r,i){var u=zi(t,n,r,i);return ee(this.dispatch(u))},e.prototype.setGroup=function(t,n,r){var i=Yi(t,n,r);return ee(this.dispatch(i))},e.prototype.revenue=function(t,n){var r=Xi(t,n);return ee(this.dispatch(r))},e.prototype.add=function(t){return this.isReady?this._addPlugin(t):(this.q.push(this._addPlugin.bind(this,t)),ee())},e.prototype._addPlugin=function(t){return ee(this.timeline.register(t,this.config))},e.prototype.remove=function(t){return this.isReady?this._removePlugin(t):(this.q.push(this._removePlugin.bind(this,t)),ee())},e.prototype._removePlugin=function(t){return ee(this.timeline.deregister(t,this.config))},e.prototype.dispatchWithCallback=function(t,n){if(!this.isReady)return n(Ie(t,0,Gi));this.process(t).then(n)},e.prototype.dispatch=function(t){return _(this,void 0,void 0,function(){var n=this;return E(this,function(r){return this.isReady?[2,this.process(t)]:[2,new Promise(function(i){n.dispatchQ.push(n.dispatchWithCallback.bind(n,t,i))})]})})},e.prototype.getOperationAppliedUserProperties=function(t){var n={};if(t===void 0)return n;var r={};return Object.keys(t).forEach(function(i){Object.values(Te).includes(i)||(r[i]=t[i])}),Mi.forEach(function(i){if(Object.keys(t).includes(i)){var u=t[i];switch(i){case Te.CLEAR_ALL:Object.keys(n).forEach(function(a){delete n[a]});break;case Te.UNSET:Object.keys(u).forEach(function(a){delete n[a]});break;case Te.SET:Object.assign(n,u);break}}}),Object.assign(n,r),n},e.prototype.process=function(t){return _(this,void 0,void 0,function(){var n,u,r,i,u;return E(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),this.config.optOut?[2,Ie(t,0,Vi)]:(t.event_type===pe.IDENTIFY&&(n=this.getOperationAppliedUserProperties(t.user_properties),this.timeline.onIdentityChanged({userProperties:n})),[4,this.timeline.push(t)]);case 1:return u=a.sent(),u.code===200?this.config.loggerProvider.log(u.message):u.code===100?this.config.loggerProvider.warn(u.message):this.config.loggerProvider.error(u.message),[2,u];case 2:return r=a.sent(),i=String(r),this.config.loggerProvider.error(i),u=Ie(t,0,i),[2,u];case 3:return[2]}})})},e.prototype.setOptOut=function(t){if(!this.isReady){this.q.push(this._setOptOut.bind(this,!!t));return}this._setOptOut(t)},e.prototype._setOptOut=function(t){this.config.optOut!==t&&(this.timeline.onOptOutChanged(t),this.config.optOut=!!t)},e.prototype.flush=function(){return ee(this.timeline.flush())},e.prototype.plugin=function(t){var n=this.timeline.plugins.find(function(r){return r.name===t});if(n===void 0){this.config.loggerProvider.debug("Cannot find plugin with name ".concat(t));return}return n},e.prototype.plugins=function(t){return this.timeline.plugins.filter(function(n){return n instanceof t})},e}(),Ji=function(){function e(){this.productId="",this.quantity=1,this.price=0}return e.prototype.setProductId=function(t){return this.productId=t,this},e.prototype.setQuantity=function(t){return t>0&&(this.quantity=t),this},e.prototype.setPrice=function(t){return this.price=t,this},e.prototype.setRevenueType=function(t){return this.revenueType=t,this},e.prototype.setCurrency=function(t){return this.currency=t,this},e.prototype.setRevenue=function(t){return this.revenue=t,this},e.prototype.setReceipt=function(t){return this.receipt=t,this},e.prototype.setReceiptSig=function(t){return this.receiptSig=t,this},e.prototype.setEventProperties=function(t){return Ot(t)&&(this.properties=t),this},e.prototype.getEventProperties=function(){var t=this.properties?S({},this.properties):{};return t[ae.REVENUE_PRODUCT_ID]=this.productId,t[ae.REVENUE_QUANTITY]=this.quantity,t[ae.REVENUE_PRICE]=this.price,t[ae.REVENUE_TYPE]=this.revenueType,t[ae.REVENUE_CURRENCY]=this.currency,t[ae.REVENUE]=this.revenue,t[ae.RECEIPT]=this.receipt,t[ae.RECEIPT_SIG]=this.receiptSig,t},e}(),ae;(function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE_CURRENCY="$currency",e.REVENUE="$revenue",e.RECEIPT="$receipt",e.RECEIPT_SIG="$receiptSig"})(ae||(ae={}));var Zi=function(e,t){var n=Math.max(t,1);return e.reduce(function(r,i,u){var a=Math.floor(u/n);return r[a]||(r[a]=[]),r[a].push(i),r},[])},te;(function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Verbose=3]="Verbose",e[e.Debug=4]="Debug"})(te||(te={}));var Ve="Amplitude Logger ",ar=function(){function e(){this.logLevel=te.None}return e.prototype.disable=function(){this.logLevel=te.None},e.prototype.enable=function(t){t===void 0&&(t=te.Warn),this.logLevel=t},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logLevel<te.Verbose||console.log("".concat(Ve,"[Log]: ").concat(t.join(" ")))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logLevel<te.Warn||console.warn("".concat(Ve,"[Warn]: ").concat(t.join(" ")))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logLevel<te.Error||console.error("".concat(Ve,"[Error]: ").concat(t.join(" ")))},e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logLevel<te.Debug||console.log("".concat(Ve,"[Debug]: ").concat(t.join(" ")))},e}(),We=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:te.Warn,loggerProvider:new ar,offline:!1,optOut:!1,serverUrl:rr,serverZone:"US",useBatch:!1}},eu=function(){function e(t){var n,r,i,u;this._optOut=!1;var a=We();this.apiKey=t.apiKey,this.flushIntervalMillis=(n=t.flushIntervalMillis)!==null&&n!==void 0?n:a.flushIntervalMillis,this.flushMaxRetries=t.flushMaxRetries||a.flushMaxRetries,this.flushQueueSize=t.flushQueueSize||a.flushQueueSize,this.instanceName=t.instanceName||a.instanceName,this.loggerProvider=t.loggerProvider||a.loggerProvider,this.logLevel=(r=t.logLevel)!==null&&r!==void 0?r:a.logLevel,this.minIdLength=t.minIdLength,this.plan=t.plan,this.ingestionMetadata=t.ingestionMetadata,this.offline=t.offline!==void 0?t.offline:a.offline,this.optOut=(i=t.optOut)!==null&&i!==void 0?i:a.optOut,this.serverUrl=t.serverUrl,this.serverZone=t.serverZone||a.serverZone,this.storageProvider=t.storageProvider,this.transportProvider=t.transportProvider,this.useBatch=(u=t.useBatch)!==null&&u!==void 0?u:a.useBatch,this.loggerProvider.enable(this.logLevel);var o=or(t.serverUrl,t.serverZone,t.useBatch);this.serverZone=o.serverZone,this.serverUrl=o.serverUrl}return Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(t){this._optOut=t},enumerable:!1,configurable:!0}),e}(),tu=function(e,t){return e==="EU"?t?Di:xi:t?Ni:rr},or=function(e,t,n){if(e===void 0&&(e=""),t===void 0&&(t=We().serverZone),n===void 0&&(n=We().useBatch),e)return{serverUrl:e,serverZone:void 0};var r=["US","EU"].includes(t)?t:We().serverZone;return{serverZone:r,serverUrl:tu(r,n)}},sr=function(){function e(){this.sdk={metrics:{histogram:{}}}}return e.prototype.recordHistogram=function(t,n){this.sdk.metrics.histogram[t]=n},e}();function nu(e){return e instanceof Error?e.message:String(e)}function $e(e){var t="";try{"body"in e&&(t=JSON.stringify(e.body,null,2))}catch{}return t}var ru=function(){function e(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduleId=null,this.scheduledTimeout=0,this.flushId=null,this.queue=[]}return e.prototype.setup=function(t){var n;return _(this,void 0,void 0,function(){var r,i=this;return E(this,function(u){switch(u.label){case 0:return this.config=t,this.storageKey="".concat(Li,"_").concat(this.config.apiKey.substring(0,10)),[4,(n=this.config.storageProvider)===null||n===void 0?void 0:n.get(this.storageKey)];case 1:return r=u.sent(),r&&r.length>0&&Promise.all(r.map(function(a){return i.execute(a)})).catch(),[2,Promise.resolve(void 0)]}})})},e.prototype.execute=function(t){var n=this;return t.insert_id||(t.insert_id=be()),new Promise(function(r){var i={event:t,attempts:0,callback:function(u){return r(u)},timeout:0};n.queue.push(i),n.schedule(n.config.flushIntervalMillis),n.saveEvents()})},e.prototype.removeEventsExceedFlushMaxRetries=function(t){var n=this;return t.filter(function(r){return r.attempts+=1,r.attempts<n.config.flushMaxRetries?!0:(n.fulfillRequest([r],500,qi),!1)})},e.prototype.scheduleEvents=function(t){var n=this;t.forEach(function(r){n.schedule(r.timeout===0?n.config.flushIntervalMillis:r.timeout)})},e.prototype.schedule=function(t){var n=this;if(!this.config.offline&&(this.scheduleId===null||this.scheduleId&&t>this.scheduledTimeout)){this.scheduleId&&clearTimeout(this.scheduleId),this.scheduledTimeout=t,this.scheduleId=setTimeout(function(){n.queue=n.queue.map(function(r){return r.timeout=0,r}),n.flush(!0)},t);return}},e.prototype.resetSchedule=function(){this.scheduleId=null,this.scheduledTimeout=0},e.prototype.flush=function(t){return t===void 0&&(t=!1),_(this,void 0,void 0,function(){var n,r,i,u=this;return E(this,function(a){switch(a.label){case 0:return this.config.offline?(this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush while offline."),[2]):this.flushId?(this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush because previous flush has not resolved."),[2]):(this.flushId=this.scheduleId,this.resetSchedule(),n=[],r=[],this.queue.forEach(function(o){return o.timeout===0?n.push(o):r.push(o)}),i=Zi(n,this.config.flushQueueSize),[4,i.reduce(function(o,c){return _(u,void 0,void 0,function(){return E(this,function(s){switch(s.label){case 0:return[4,o];case 1:return s.sent(),[4,this.send(c,t)];case 2:return[2,s.sent()]}})})},Promise.resolve())]);case 1:return a.sent(),this.flushId=null,this.scheduleEvents(this.queue),[2]}})})},e.prototype.send=function(t,n){return n===void 0&&(n=!0),_(this,void 0,void 0,function(){var r,i,u,a,o;return E(this,function(c){switch(c.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(t,400,$i)];r={api_key:this.config.apiKey,events:t.map(function(s){var d=s.event;d.extra;var f=Rt(d,["extra"]);return f}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString(),request_metadata:this.config.requestMetadata},this.config.requestMetadata=new sr,c.label=1;case 1:return c.trys.push([1,3,,4]),i=or(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(i,r)];case 2:return u=c.sent(),u===null?(this.fulfillRequest(t,0,ji),[2]):n?(this.handleResponse(u,t),[3,4]):("body"in u?this.fulfillRequest(t,u.statusCode,"".concat(u.status,": ").concat($e(u))):this.fulfillRequest(t,u.statusCode,u.status),[2]);case 3:return a=c.sent(),o=nu(a),this.config.loggerProvider.error(o),this.handleResponse({status:$.Failed,statusCode:0},t),[3,4];case 4:return[2]}})})},e.prototype.handleResponse=function(t,n){var r=t.status;switch(r){case $.Success:{this.handleSuccessResponse(t,n);break}case $.Invalid:{this.handleInvalidResponse(t,n);break}case $.PayloadTooLarge:{this.handlePayloadTooLargeResponse(t,n);break}case $.RateLimit:{this.handleRateLimitResponse(t,n);break}default:{this.config.loggerProvider.warn(`{code: 0, error: "Status '`.concat(r,"' provided for ").concat(n.length,' events"}')),this.handleOtherResponse(n);break}}},e.prototype.handleSuccessResponse=function(t,n){this.fulfillRequest(n,t.statusCode,Fi)},e.prototype.handleInvalidResponse=function(t,n){var r=this;if(t.body.missingField||t.body.error.startsWith(Bi)){this.fulfillRequest(n,t.statusCode,t.body.error);return}var i=x(x(x(x([],C(Object.values(t.body.eventsWithInvalidFields)),!1),C(Object.values(t.body.eventsWithMissingFields)),!1),C(Object.values(t.body.eventsWithInvalidIdLengths)),!1),C(t.body.silencedEvents),!1).flat(),u=new Set(i),a=n.filter(function(c,s){if(u.has(s)){r.fulfillRequest([c],t.statusCode,t.body.error);return}return!0});a.length>0&&this.config.loggerProvider.warn($e(t));var o=this.removeEventsExceedFlushMaxRetries(a);this.scheduleEvents(o)},e.prototype.handlePayloadTooLargeResponse=function(t,n){if(n.length===1){this.fulfillRequest(n,t.statusCode,t.body.error);return}this.config.loggerProvider.warn($e(t)),this.config.flushQueueSize/=2;var r=this.removeEventsExceedFlushMaxRetries(n);this.scheduleEvents(r)},e.prototype.handleRateLimitResponse=function(t,n){var r=this,i=Object.keys(t.body.exceededDailyQuotaUsers),u=Object.keys(t.body.exceededDailyQuotaDevices),a=t.body.throttledEvents,o=new Set(i),c=new Set(u),s=new Set(a),d=n.filter(function(h,l){if(h.event.user_id&&o.has(h.event.user_id)||h.event.device_id&&c.has(h.event.device_id)){r.fulfillRequest([h],t.statusCode,t.body.error);return}return s.has(l)&&(h.timeout=r.throttleTimeout),!0});d.length>0&&this.config.loggerProvider.warn($e(t));var f=this.removeEventsExceedFlushMaxRetries(d);this.scheduleEvents(f)},e.prototype.handleOtherResponse=function(t){var n=this,r=t.map(function(u){return u.timeout=u.attempts*n.retryTimeout,u}),i=this.removeEventsExceedFlushMaxRetries(r);this.scheduleEvents(i)},e.prototype.fulfillRequest=function(t,n,r){this.removeEvents(t),t.forEach(function(i){return i.callback(Ie(i.event,n,r))})},e.prototype.saveEvents=function(){if(this.config.storageProvider){var t=this.queue.map(function(n){return n.event});this.config.storageProvider.set(this.storageKey,t)}},e.prototype.removeEvents=function(t){this.queue=this.queue.filter(function(n){return!t.some(function(r){return r.event.insert_id===n.event.insert_id})}),this.saveEvents()},e}(),iu=function(){function e(){}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:uu(),platform:"Web",os:void 0,deviceModel:void 0}},e}(),uu=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},au=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(t){this.receiver?this.receiver(t):this.queue.length<512&&this.queue.push(t)},e.prototype.setEventReceiver=function(t){this.receiver=t,this.queue.length>0&&(this.queue.forEach(function(n){t(n)}),this.queue=[])},e}(),he=function(){return he=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},he.apply(this,arguments)};function Ke(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function nn(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,u=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)u.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return u}var ze=function(e,t){var n,r,i=["string","number","boolean","undefined"],u=typeof e,a=typeof t;if(u!==a)return!1;try{for(var o=Ke(i),c=o.next();!c.done;c=o.next()){var s=c.value;if(s===u)return e===t}}catch(y){n={error:y}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;var d=Array.isArray(e),f=Array.isArray(t);if(d!==f)return!1;if(d&&f){for(var h=0;h<e.length;h++)if(!ze(e[h],t[h]))return!1}else{var l=Object.keys(e).sort(),v=Object.keys(t).sort();if(!ze(l,v))return!1;var m=!0;return Object.keys(e).forEach(function(y){ze(e[y],t[y])||(m=!1)}),m}return!0},ou="$set",su="$unset",cu="$clearAll";Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r});var du=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var t=this,n=he({},this.identity.userProperties),r=he(he({},this.identity),{userProperties:n});return{setUserId:function(i){return r.userId=i,this},setDeviceId:function(i){return r.deviceId=i,this},setUserProperties:function(i){return r.userProperties=i,this},setOptOut:function(i){return r.optOut=i,this},updateUserProperties:function(i){var u,a,o,c,s,d,f=r.userProperties||{};try{for(var h=Ke(Object.entries(i)),l=h.next();!l.done;l=h.next()){var v=nn(l.value,2),m=v[0],y=v[1];switch(m){case ou:try{for(var p=(o=void 0,Ke(Object.entries(y))),g=p.next();!g.done;g=p.next()){var b=nn(g.value,2),T=b[0],I=b[1];f[T]=I}}catch(P){o={error:P}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(o)throw o.error}}break;case su:try{for(var w=(s=void 0,Ke(Object.keys(y))),A=w.next();!A.done;A=w.next()){var T=A.value;delete f[T]}}catch(P){s={error:P}}finally{try{A&&!A.done&&(d=w.return)&&d.call(w)}finally{if(s)throw s.error}}break;case cu:f={};break}}}catch(P){u={error:P}}finally{try{l&&!l.done&&(a=h.return)&&a.call(h)}finally{if(u)throw u.error}}return r.userProperties=f,this},commit:function(){return t.setIdentity(r),this}}},e.prototype.getIdentity=function(){return he({},this.identity)},e.prototype.setIdentity=function(t){var n=he({},this.identity);this.identity=he({},t),ze(n,this.identity)||this.listeners.forEach(function(r){r(t)})},e.prototype.addIdentityListener=function(t){this.listeners.add(t)},e.prototype.removeIdentityListener=function(t){this.listeners.delete(t)},e}(),Pe=typeof globalThis<"u"?globalThis:typeof global<"u"?global:self,fu=function(){function e(){this.identityStore=new du,this.eventBridge=new au,this.applicationContextProvider=new iu}return e.getInstance=function(t){return Pe.analyticsConnectorInstances||(Pe.analyticsConnectorInstances={}),Pe.analyticsConnectorInstances[t]||(Pe.analyticsConnectorInstances[t]=new e),Pe.analyticsConnectorInstances[t]},e}(),Oe=function(e){return e===void 0&&(e="$default_instance"),fu.getInstance(e)},lu=function(e,t){Oe(t).identityStore.editIdentity().setUserId(e).commit()},hu=function(e,t){Oe(t).identityStore.editIdentity().setDeviceId(e).commit()},vu=function(){function e(){this.name="identity",this.type="before",this.identityStore=Oe().identityStore}return e.prototype.execute=function(t){return _(this,void 0,void 0,function(){var n;return E(this,function(r){return n=t.user_properties,n&&this.identityStore.editIdentity().updateUserProperties(n).commit(),[2,t]})})},e.prototype.setup=function(t){return _(this,void 0,void 0,function(){return E(this,function(n){return t.instanceName&&(this.identityStore=Oe(t.instanceName).identityStore),[2]})})},e}(),cr=function(e,t){t===void 0&&(t=Date.now());var n=Date.now(),r=n-t;return r>e},dr=function(e,t,n){return t===void 0&&(t=""),n===void 0&&(n=10),[ot,t,e.substring(0,n)].filter(Boolean).join("_")},pu=function(e){return"".concat(ot.toLowerCase(),"_").concat(e.substring(0,6))},gu=function(){var e,t,n,r;if(typeof navigator>"u")return"";var i=navigator.userLanguage;return(r=(n=(t=(e=navigator.languages)===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:navigator.language)!==null&&n!==void 0?n:i)!==null&&r!==void 0?r:""},et=function(){var e,t=H();if(!(!((e=t==null?void 0:t.location)===null||e===void 0)&&e.search))return{};var n=t.location.search.substring(1).split("&").filter(Boolean),r=n.reduce(function(i,u){var a=u.split("=",2),o=rn(a[0]),c=rn(a[1]);return c&&(i[o]=c),i},{});return r},rn=function(e){e===void 0&&(e="");try{return decodeURIComponent(e)}catch{return""}},mu=function(e){var t=new Error().stack||"";return t.split(`
`).slice(2+e).map(function(n){return n.trim()})},F=function(e){return function(){var t=S({},e.config),n=t.loggerProvider,r=t.logLevel;return{logger:n,logLevel:r}}},yu=function(e,t){var n,r;t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");try{for(var i=L(t.split(".")),u=i.next();!u.done;u=i.next()){var a=u.value;if(a in e)e=e[a];else return}}catch(o){n={error:o}}finally{try{u&&!u.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e},j=function(e,t){return function(){var n,r,i={};try{for(var u=L(t),a=u.next();!a.done;a=u.next()){var o=a.value;i[o]=yu(e,o)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return i}},q=function(e,t,n,r,i){return i===void 0&&(i=null),function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];var o=n(),c=o.logger,s=o.logLevel;if(s&&s<te.Debug||!s||!c)return e.apply(i,u);var d={type:"invoke public method",name:t,args:u,stacktrace:mu(1),time:{start:new Date().toISOString()},states:{}};r&&d.states&&(d.states.before=r());var f=e.apply(i,u);return f&&f.promise?f.promise.then(function(){r&&d.states&&(d.states.after=r()),d.time&&(d.time.end=new Date().toISOString()),c.debug(JSON.stringify(d,null,2))}):(r&&d.states&&(d.states.after=r()),d.time&&(d.time.end=new Date().toISOString()),c.debug(JSON.stringify(d,null,2))),f}},Ft=function(){function e(){this.memoryStorage=new Map}return e.prototype.isEnabled=function(){return _(this,void 0,void 0,function(){return E(this,function(t){return[2,!0]})})},e.prototype.get=function(t){return _(this,void 0,void 0,function(){return E(this,function(n){return[2,this.memoryStorage.get(t)]})})},e.prototype.getRaw=function(t){return _(this,void 0,void 0,function(){var n;return E(this,function(r){switch(r.label){case 0:return[4,this.get(t)];case 1:return n=r.sent(),[2,n?JSON.stringify(n):void 0]}})})},e.prototype.set=function(t,n){return _(this,void 0,void 0,function(){return E(this,function(r){return this.memoryStorage.set(t,n),[2]})})},e.prototype.remove=function(t){return _(this,void 0,void 0,function(){return E(this,function(n){return this.memoryStorage.delete(t),[2]})})},e.prototype.reset=function(){return _(this,void 0,void 0,function(){return E(this,function(t){return this.memoryStorage.clear(),[2]})})},e}(),Lt=function(){function e(t){this.options=S({},t)}return e.prototype.isEnabled=function(){return _(this,void 0,void 0,function(){var t,n,r;return E(this,function(i){switch(i.label){case 0:if(!H())return[2,!1];e.testValue=String(Date.now()),t=new e(this.options),n="AMP_TEST",i.label=1;case 1:return i.trys.push([1,4,5,7]),[4,t.set(n,e.testValue)];case 2:return i.sent(),[4,t.get(n)];case 3:return r=i.sent(),[2,r===e.testValue];case 4:return i.sent(),[2,!1];case 5:return[4,t.remove(n)];case 6:return i.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(t){var n;return _(this,void 0,void 0,function(){var r,i;return E(this,function(u){switch(u.label){case 0:return[4,this.getRaw(t)];case 1:if(r=u.sent(),!r)return[2,void 0];try{return i=(n=bu(r))!==null&&n!==void 0?n:Eu(r),i===void 0?(console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(t,", value: ").concat(r)),[2,void 0]):[2,JSON.parse(i)]}catch{return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(t,", value: ").concat(r)),[2,void 0]}return[2]}})})},e.prototype.getRaw=function(t){var n,r;return _(this,void 0,void 0,function(){var i,u,a;return E(this,function(o){return i=H(),u=(r=(n=i==null?void 0:i.document)===null||n===void 0?void 0:n.cookie.split("; "))!==null&&r!==void 0?r:[],a=u.find(function(c){return c.indexOf(t+"=")===0}),a?[2,a.substring(t.length+1)]:[2,void 0]})})},e.prototype.set=function(t,n){var r;return _(this,void 0,void 0,function(){var i,u,a,o,c,s,d;return E(this,function(f){try{i=(r=this.options.expirationDays)!==null&&r!==void 0?r:0,u=n!==null?i:-1,a=void 0,u&&(o=new Date,o.setTime(o.getTime()+u*24*60*60*1e3),a=o),c="".concat(t,"=").concat(btoa(encodeURIComponent(JSON.stringify(n)))),a&&(c+="; expires=".concat(a.toUTCString())),c+="; path=/",this.options.domain&&(c+="; domain=".concat(this.options.domain)),this.options.secure&&(c+="; Secure"),this.options.sameSite&&(c+="; SameSite=".concat(this.options.sameSite)),s=H(),s&&(s.document.cookie=c)}catch(h){d=h instanceof Error?h.message:String(h),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(t,". Error: ").concat(d))}return[2]})})},e.prototype.remove=function(t){return _(this,void 0,void 0,function(){return E(this,function(n){switch(n.label){case 0:return[4,this.set(t,null)];case 1:return n.sent(),[2]}})})},e.prototype.reset=function(){return _(this,void 0,void 0,function(){return E(this,function(t){return[2]})})},e}(),bu=function(e){try{return decodeURIComponent(atob(e))}catch{return}},Eu=function(e){try{return decodeURIComponent(atob(decodeURIComponent(e)))}catch{return}},_u=function(e,t,n){return n===void 0&&(n=10),[ot,t,e.substring(0,n)].filter(Boolean).join("_")},st=function(){function e(){}return e.prototype.send=function(t,n){return Promise.resolve(null)},e.prototype.buildResponse=function(t){var n,r,i,u,a,o,c,s,d,f,h,l,v,m,y,p,g,b,T,I,w,A;if(typeof t!="object")return null;var P=t.code||0,O=this.buildStatus(P);switch(O){case $.Success:return{status:O,statusCode:P,body:{eventsIngested:(n=t.events_ingested)!==null&&n!==void 0?n:0,payloadSizeBytes:(r=t.payload_size_bytes)!==null&&r!==void 0?r:0,serverUploadTime:(i=t.server_upload_time)!==null&&i!==void 0?i:0}};case $.Invalid:return{status:O,statusCode:P,body:{error:(u=t.error)!==null&&u!==void 0?u:"",missingField:(a=t.missing_field)!==null&&a!==void 0?a:"",eventsWithInvalidFields:(o=t.events_with_invalid_fields)!==null&&o!==void 0?o:{},eventsWithMissingFields:(c=t.events_with_missing_fields)!==null&&c!==void 0?c:{},eventsWithInvalidIdLengths:(s=t.events_with_invalid_id_lengths)!==null&&s!==void 0?s:{},epsThreshold:(d=t.eps_threshold)!==null&&d!==void 0?d:0,exceededDailyQuotaDevices:(f=t.exceeded_daily_quota_devices)!==null&&f!==void 0?f:{},silencedDevices:(h=t.silenced_devices)!==null&&h!==void 0?h:[],silencedEvents:(l=t.silenced_events)!==null&&l!==void 0?l:[],throttledDevices:(v=t.throttled_devices)!==null&&v!==void 0?v:{},throttledEvents:(m=t.throttled_events)!==null&&m!==void 0?m:[]}};case $.PayloadTooLarge:return{status:O,statusCode:P,body:{error:(y=t.error)!==null&&y!==void 0?y:""}};case $.RateLimit:return{status:O,statusCode:P,body:{error:(p=t.error)!==null&&p!==void 0?p:"",epsThreshold:(g=t.eps_threshold)!==null&&g!==void 0?g:0,throttledDevices:(b=t.throttled_devices)!==null&&b!==void 0?b:{},throttledUsers:(T=t.throttled_users)!==null&&T!==void 0?T:{},exceededDailyQuotaDevices:(I=t.exceeded_daily_quota_devices)!==null&&I!==void 0?I:{},exceededDailyQuotaUsers:(w=t.exceeded_daily_quota_users)!==null&&w!==void 0?w:{},throttledEvents:(A=t.throttled_events)!==null&&A!==void 0?A:[]}};case $.Timeout:default:return{status:O,statusCode:P}}},e.prototype.buildStatus=function(t){return t>=200&&t<300?$.Success:t===429?$.RateLimit:t===413?$.PayloadTooLarge:t===408?$.Timeout:t>=400&&t<500?$.Invalid:t>=500?$.Failed:$.Unknown},e}(),Tu=function(e){J(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.send=function(n,r){return _(this,void 0,void 0,function(){var i,u,a;return E(this,function(o){switch(o.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return i={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(r),method:"POST"},[4,fetch(n,i)];case 1:return u=o.sent(),[4,u.text()];case 2:a=o.sent();try{return[2,this.buildResponse(JSON.parse(a))]}catch{return[2,this.buildResponse({code:u.status})]}return[2]}})})},t}(st),wu=null,Su=["a","button","input","select","textarea","label","video","audio",'[contenteditable="true" i]',"[data-amp-default-track]",".amp-default-track"],fr="data-amp-track-",Iu=["div","span","h1","h2","h3","h4","h5","h6"],Au=["a","button",'[role="button"]','[role="link"]','[role="menuitem"]','[role="menuitemcheckbox"]','[role="menuitemradio"]','[role="option"]','[role="tab"]','[role="treeitem"]','[contenteditable="true" i]'],ku=x(['input[type="button"]','input[type="submit"]','input[type="reset"]','input[type="image"]','input[type="file"]'],C(Au),!1),Pu=["*"],Cu=1e3,Ru=4,lr=100,Ou=function(){function e(t){this.request=t}return Object.defineProperty(e.prototype,"headers",{get:function(){if(this._headers)return this._headers;var t=this.request.headers;if(Array.isArray(t)){var n=t;this._headers=n.reduce(function(u,a){var o=C(a,2),c=o[0],s=o[1];return u[c]=s,u},{})}else if(t instanceof Headers){var r=t,i={};r.forEach(function(u,a){i[a]=u}),this._headers=i}else typeof t=="object"&&(this._headers=t);return this._headers},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bodySize",{get:function(){if(typeof this._bodySize=="number")return this._bodySize;var t=H();if(t!=null&&t.TextEncoder){var n=this.request.body;return this._bodySize=hr(n,lr),this._bodySize}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"method",{get:function(){return this.request.method},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return typeof this.request.body=="string"?this.request.body:null},enumerable:!1,configurable:!0}),e}(),Lu=function(){function e(t){this.body=t}return Object.defineProperty(e.prototype,"bodySize",{get:function(){return hr(this.body,lr)},enumerable:!1,configurable:!0}),e}();function hr(e,t){var n,r,i,u=H(),a=u==null?void 0:u.TextEncoder;if(a){var o;if(typeof e=="string")o=e,i=new a().encode(o).length;else if(e instanceof Blob)o=e,i=o.size;else if(e instanceof URLSearchParams)o=e,i=new a().encode(o.toString()).length;else if(ArrayBuffer.isView(e))o=e,i=o.byteLength;else if(e instanceof ArrayBuffer)o=e,i=o.byteLength;else if(e instanceof FormData){var c=e,s=0,d=0;try{for(var f=L(c.entries()),h=f.next();!h.done;h=f.next()){var l=C(h.value,2),v=l[0],m=l[1];if(s+=v.length,typeof m=="string")s+=new a().encode(m).length;else if(m instanceof Blob)s+=m.size;else return;if(++d>=t)return}}catch(y){n={error:y}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}i=s}else if(e instanceof ReadableStream){o=e;return}return i}}var xu=function(){function e(t){this.response=t}return Object.defineProperty(e.prototype,"headers",{get:function(){var t;if(this._headers)return this._headers;if(this.response.headers instanceof Headers){var n=this.response.headers,r={};return(t=n==null?void 0:n.forEach)===null||t===void 0||t.call(n,function(i,u){r[u]=i}),this._headers=r,r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bodySize",{get:function(){var t,n;if(this._bodySize!==void 0)return this._bodySize;var r=(n=(t=this.response.headers)===null||t===void 0?void 0:t.get)===null||n===void 0?void 0:n.call(t,"content-length"),i=r?parseInt(r,10):void 0;return this._bodySize=i,i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.response.status},enumerable:!1,configurable:!0}),e}(),Nu=function(){function e(t,n,r){this.statusCode=t,this.headersString=n,this.size=r}return Object.defineProperty(e.prototype,"bodySize",{get:function(){return this.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.statusCode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headers",{get:function(){var t,n;if(this.headersString){var r={},i=this.headersString.split(`\r
`);try{for(var u=L(i),a=u.next();!a.done;a=u.next()){var o=a.value,c=C(o.split(": "),2),s=c[0],d=c[1];s&&d&&(r[s]=d)}}catch(f){t={error:f}}finally{try{a&&!a.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return r}},enumerable:!1,configurable:!0}),e}(),Du=function(){function e(t,n,r,i,u,a,o,c,s,d,f){o===void 0&&(o=0),this.type=t,this.method=n,this.timestamp=r,this.startTime=i,this.url=u,this.requestWrapper=a,this.status=o,this.duration=c,this.responseWrapper=s,this.error=d,this.endTime=f}return e.prototype.toSerializable=function(){var t,n,r,i,u={type:this.type,method:this.method,url:this.url,timestamp:this.timestamp,status:this.status,duration:this.duration,error:this.error,startTime:this.startTime,endTime:this.endTime,requestHeaders:(t=this.requestWrapper)===null||t===void 0?void 0:t.headers,requestBodySize:(n=this.requestWrapper)===null||n===void 0?void 0:n.bodySize,responseHeaders:(r=this.responseWrapper)===null||r===void 0?void 0:r.headers,responseBodySize:(i=this.responseWrapper)===null||i===void 0?void 0:i.bodySize};return Object.fromEntries(Object.entries(u).filter(function(a){var o=C(a,2);o[0];var c=o[1];return c!==void 0}))},e}();function Uu(e){return typeof e=="object"&&e!==null&&"url"in e&&"method"in e}var Mu=function(){function e(t,n){n===void 0&&(n=be()),this.callback=t,this.id=n}return e}(),Fu=function(){function e(t){this.eventCallbacks=new Map,this.isObserving=!1,this.logger=t;var n=H();e.isSupported()&&(this.globalScope=n)}return e.isSupported=function(){var t=H();return!!t&&!!t.fetch},e.prototype.subscribe=function(t,n){var r,i,u,a,o,c,s;if(this.logger||(this.logger=n),this.eventCallbacks.set(t.id,t),!this.isObserving){var d=(u=(i=(r=this.globalScope)===null||r===void 0?void 0:r.XMLHttpRequest)===null||i===void 0?void 0:i.prototype)===null||u===void 0?void 0:u.open,f=(c=(o=(a=this.globalScope)===null||a===void 0?void 0:a.XMLHttpRequest)===null||o===void 0?void 0:o.prototype)===null||c===void 0?void 0:c.send;d&&f&&this.observeXhr(d,f);var h=(s=this.globalScope)===null||s===void 0?void 0:s.fetch;h&&this.observeFetch(h),this.isObserving=!0}},e.prototype.unsubscribe=function(t){this.eventCallbacks.delete(t.id)},e.prototype.triggerEventCallbacks=function(t){var n=this;this.eventCallbacks.forEach(function(r){var i;try{r.callback(t)}catch(u){(i=n.logger)===null||i===void 0||i.debug("an unexpected error occurred while triggering event callbacks",u)}})},e.prototype.handleNetworkRequestEvent=function(t,n,r,i,u,a,o){var c;if(!(a===void 0||o===void 0)){var s,d="GET";Uu(n)?(s=n.url,d=n.method):s=(c=n==null?void 0:n.toString)===null||c===void 0?void 0:c.call(n),d=(r==null?void 0:r.method)||d;var f,h;i&&(f=i.status),u&&(h={name:u.name||"UnknownError",message:u.message||"An unknown error occurred"},f=0);var l=Math.floor(performance.now()-o),v=Math.floor(a+l),m=new Du(t,d,a,a,s,r,f,l,i,h,v);this.triggerEventCallbacks(m)}},e.prototype.getTimestamps=function(){var t,n;return{startTime:(t=Date.now)===null||t===void 0?void 0:t.call(Date),durationStart:(n=performance==null?void 0:performance.now)===null||n===void 0?void 0:n.call(performance)}},e.prototype.observeFetch=function(t){var n=this;!this.globalScope||!t||(this.globalScope.fetch=function(r,i){return _(n,void 0,void 0,function(){var u,a,o,c,s,d;return E(this,function(f){switch(f.label){case 0:try{u=this.getTimestamps()}catch(h){(s=this.logger)===null||s===void 0||s.debug("an unexpected error occurred while retrieving timestamps",h)}f.label=1;case 1:return f.trys.push([1,3,,4]),[4,t(r,i)];case 2:return a=f.sent(),[3,4];case 3:return c=f.sent(),o=c,[3,4];case 4:try{this.handleNetworkRequestEvent("fetch",r,i?new Ou(i):void 0,a?new xu(a):void 0,o,u==null?void 0:u.startTime,u==null?void 0:u.durationStart)}catch(h){(d=this.logger)===null||d===void 0||d.debug("an unexpected error occurred while handling fetch",h)}if(a)return[2,a];throw o}})})})},e.prototype.observeXhr=function(t,n){if(!(!this.globalScope||!t||!n)){var r=this.globalScope.XMLHttpRequest.prototype,i=this;r.open=function(){for(var u,a,o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];var s=this,d=C(o,2),f=d[0],h=d[1];try{s.$$AmplitudeAnalyticsEvent=S({method:f,url:(u=h==null?void 0:h.toString)===null||u===void 0?void 0:u.call(h)},i.getTimestamps())}catch(l){(a=i.logger)===null||a===void 0||a.debug("an unexpected error occurred while calling xhr open",l)}return t.apply(s,o)},r.send=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];var o=this,c=u[0],s=o.$$AmplitudeAnalyticsEvent;return o.addEventListener("loadend",function(){var d;try{var f=o.getAllResponseHeaders(),h=o.getResponseHeader("content-length"),l=new Nu(o.status,f,h?parseInt(h,10):void 0),v=new Lu(c);s.status=o.status,i.handleNetworkRequestEvent("xhr",{url:s.url,method:s.method},v,l,void 0,s.startTime,s.durationStart)}catch(m){(d=i.logger)===null||d===void 0||d.debug("an unexpected error occurred while handling xhr send",m)}}),n.apply(o,u)}}},e}(),un=new Fu,Ne=function(e,t){return typeof e=="boolean"?e:(e==null?void 0:e[t])!==!1},vr=function(e){return Ne(e,"attribution")},ju=function(e){return Ne(e,"fileDownloads")},qu=function(e){return Ne(e,"formInteractions")},pr=function(e){return Ne(e,"pageViews")},an=function(e){return Ne(e,"sessions")},gr=function(e){return typeof e=="object"&&(e.networkTracking===!0||typeof e.networkTracking=="object")},mr=function(e){return typeof e=="boolean"?e:typeof e=="object"&&(e.elementInteractions===!0||typeof e.elementInteractions=="object")},Vu=function(e){return typeof e=="object"&&e.webVitals===!0},yr=function(e){return typeof e=="object"&&(e.frustrationInteractions===!0||typeof e.frustrationInteractions=="object")},$u=function(e){if(mr(e.autocapture)&&typeof e.autocapture=="object"&&typeof e.autocapture.elementInteractions=="object")return e.autocapture.elementInteractions},Bu=function(e){if(yr(e.autocapture)&&typeof e.autocapture=="object"&&typeof e.autocapture.frustrationInteractions=="object")return e.autocapture.frustrationInteractions},Gu=function(e){if(gr(e.autocapture)){if(typeof e.autocapture=="object"&&typeof e.autocapture.networkTracking=="object")return e.autocapture.networkTracking;if(e.networkTrackingOptions)return e.networkTrackingOptions}},Hu=function(e){var t=function(){return!1},n=void 0,r,i=e.pageCounter,u=pr(e.defaultTracking);return u&&(t=void 0,r=void 0,e.defaultTracking&&typeof e.defaultTracking=="object"&&e.defaultTracking.pageViews&&typeof e.defaultTracking.pageViews=="object"&&("trackOn"in e.defaultTracking.pageViews&&(t=e.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in e.defaultTracking.pageViews&&(n=e.defaultTracking.pageViews.trackHistoryChanges),"eventType"in e.defaultTracking.pageViews&&e.defaultTracking.pageViews.eventType&&(r=e.defaultTracking.pageViews.eventType))),{trackOn:t,trackHistoryChanges:n,eventType:r,pageCounter:i}},Wu=function(e){return vr(e.defaultTracking)&&e.defaultTracking&&typeof e.defaultTracking=="object"&&e.defaultTracking.attribution&&typeof e.defaultTracking.attribution=="object"?S({},e.defaultTracking.attribution):{}},bt=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.name,u=r.args,a=r.resolve,o=e&&e[i];if(typeof o=="function"){var c=o.apply(e,u);typeof a=="function"&&a(c==null?void 0:c.promise)}}return e},Et=function(e){var t=e;return t&&t._q!==void 0},br="2.20.1",Ku="amplitude-ts",zu="Web",Yu="$remote",Xu=function(){function e(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="".concat(Ku,"/").concat(br),typeof navigator<"u"&&(this.userAgent=navigator.userAgent)}return e.prototype.setup=function(t){return this.config=t,Promise.resolve(void 0)},e.prototype.execute=function(t){var n,r;return _(this,void 0,void 0,function(){var i,u,a,o;return E(this,function(c){return i=new Date().getTime(),u=(n=this.config.lastEventId)!==null&&n!==void 0?n:-1,a=(r=t.event_id)!==null&&r!==void 0?r:u+1,this.config.lastEventId=a,t.time||(this.config.lastEventTime=i),o=S(S(S(S(S(S(S(S({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:i},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:zu}),this.config.trackingOptions.language&&{language:gu()}),this.config.trackingOptions.ipAddress&&{ip:Yu}),{insert_id:be(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),t),{event_id:a,library:this.library,user_agent:this.userAgent}),[2,o]})})},e}(),Er=function(){function e(t){this.storage=t}return e.prototype.isEnabled=function(){return _(this,void 0,void 0,function(){var t,n,r,i;return E(this,function(u){switch(u.label){case 0:if(!this.storage)return[2,!1];t=String(Date.now()),n=new e(this.storage),r="AMP_TEST",u.label=1;case 1:return u.trys.push([1,4,5,7]),[4,n.set(r,t)];case 2:return u.sent(),[4,n.get(r)];case 3:return i=u.sent(),[2,i===t];case 4:return u.sent(),[2,!1];case 5:return[4,n.remove(r)];case 6:return u.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(t){return _(this,void 0,void 0,function(){var n;return E(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.getRaw(t)];case 1:return n=r.sent(),n?[2,JSON.parse(n)]:[2,void 0];case 2:return r.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},e.prototype.getRaw=function(t){var n;return _(this,void 0,void 0,function(){return E(this,function(r){return[2,((n=this.storage)===null||n===void 0?void 0:n.getItem(t))||void 0]})})},e.prototype.set=function(t,n){var r;return _(this,void 0,void 0,function(){return E(this,function(i){try{(r=this.storage)===null||r===void 0||r.setItem(t,JSON.stringify(n))}catch{}return[2]})})},e.prototype.remove=function(t){var n;return _(this,void 0,void 0,function(){return E(this,function(r){try{(n=this.storage)===null||n===void 0||n.removeItem(t)}catch{}return[2]})})},e.prototype.reset=function(){var t;return _(this,void 0,void 0,function(){return E(this,function(n){try{(t=this.storage)===null||t===void 0||t.clear()}catch{}return[2]})})},e}(),Be=1e3,_r=function(e){J(t,e);function t(n){var r=this,i,u,a;try{a=(i=H())===null||i===void 0?void 0:i.localStorage}catch(o){(u=n==null?void 0:n.loggerProvider)===null||u===void 0||u.debug("Failed to access localStorage. error=".concat(JSON.stringify(o))),a=void 0}return r=e.call(this,a)||this,r.loggerProvider=n==null?void 0:n.loggerProvider,r}return t.prototype.set=function(n,r){var i;return _(this,void 0,void 0,function(){var u;return E(this,function(a){switch(a.label){case 0:return Array.isArray(r)&&r.length>Be?(u=r.length-Be,[4,e.prototype.set.call(this,n,r.slice(0,Be))]):[3,2];case 1:return a.sent(),(i=this.loggerProvider)===null||i===void 0||i.error("Failed to save ".concat(u," events because the queue length exceeded ").concat(Be,".")),[3,4];case 2:return[4,e.prototype.set.call(this,n,r)];case 3:a.sent(),a.label=4;case 4:return[2]}})})},t}(Er),Qu=function(e){J(t,e);function t(){var n;return e.call(this,(n=H())===null||n===void 0?void 0:n.sessionStorage)||this}return t}(Er),Ju=function(e){J(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={done:4},n}return t.prototype.send=function(n,r){return _(this,void 0,void 0,function(){var i=this;return E(this,function(u){return[2,new Promise(function(a,o){typeof XMLHttpRequest>"u"&&o(new Error("XHRTransport is not supported."));var c=new XMLHttpRequest;c.open("POST",n,!0),c.onreadystatechange=function(){if(c.readyState===i.state.done){var s=c.responseText;try{a(i.buildResponse(JSON.parse(s)))}catch{a(i.buildResponse({code:c.status}))}}},c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("Accept","*/*"),c.send(JSON.stringify(r))})]})})},t}(st),Zu=function(e){J(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.send=function(n,r){return _(this,void 0,void 0,function(){var i=this;return E(this,function(u){return[2,new Promise(function(a,o){var c=H();if(!(c!=null&&c.navigator.sendBeacon))throw new Error("SendBeaconTransport is not supported");try{var s=JSON.stringify(r),d=c.navigator.sendBeacon(n,JSON.stringify(r));return a(d?i.buildResponse({code:200,events_ingested:r.events.length,payload_size_bytes:s.length,server_upload_time:Date.now()}):i.buildResponse({code:500}))}catch(f){o(f)}})]})})},t}(st),ea=function(e,t,n){return n===void 0&&(n=!0),_(void 0,void 0,void 0,function(){var r,i,u,a,o,c,s,d,f;return E(this,function(h){switch(h.label){case 0:return r=pu(e),[4,t.getRaw(r)];case 1:return i=h.sent(),i?n?[4,t.remove(r)]:[3,3]:[2,{optOut:!1}];case 2:h.sent(),h.label=3;case 3:return u=C(i.split("."),6),a=u[0],o=u[1],c=u[2],s=u[3],d=u[4],f=u[5],[2,{deviceId:a,userId:ta(o),sessionId:_t(s),lastEventId:_t(f),lastEventTime:_t(d),optOut:!!c}]}})})},_t=function(e){var t=parseInt(e,32);if(!isNaN(t))return t},ta=function(e){if(!(!atob||!escape||!e))try{return decodeURIComponent(escape(atob(e)))}catch{return}},ue="[Amplitude]",on="".concat(ue," Form Started"),na="".concat(ue," Form Submitted"),ra="".concat(ue," File Downloaded"),sn="session_start",cn="session_end",ia="".concat(ue," File Extension"),ua="".concat(ue," File Name"),aa="".concat(ue," Link ID"),oa="".concat(ue," Link Text"),sa="".concat(ue," Link URL"),Tt="".concat(ue," Form ID"),wt="".concat(ue," Form Name"),St="".concat(ue," Form Destination"),tt="cookie",ca="US",da=function(e){J(t,e);function t(n,r,i,u,a,o,c,s,d,f,h,l,v,m,y,p,g,b,T,I,w,A,P,O,M,U,V,W,Z,X,ie,fe,Ee,re,K){i===void 0&&(i=new Ft),u===void 0&&(u={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),s===void 0&&(s=1e3),d===void 0&&(d=5),f===void 0&&(f=30),h===void 0&&(h=tt),p===void 0&&(p=new ar),g===void 0&&(g=te.Warn),T===void 0&&(T=!1),I===void 0&&(I=!1),P===void 0&&(P=""),O===void 0&&(O=ca),U===void 0&&(U=30*60*1e3),V===void 0&&(V=new _r({loggerProvider:p})),W===void 0&&(W={ipAddress:!0,language:!0,platform:!0}),Z===void 0&&(Z="fetch"),X===void 0&&(X=!1),ie===void 0&&(ie=!0);var k=e.call(this,{apiKey:n,storageProvider:V,transportProvider:Tr(Z)})||this;return k.apiKey=n,k.appVersion=r,k.cookieOptions=u,k.defaultTracking=a,k.autocapture=o,k.flushIntervalMillis=s,k.flushMaxRetries=d,k.flushQueueSize=f,k.identityStorage=h,k.ingestionMetadata=l,k.instanceName=v,k.loggerProvider=p,k.logLevel=g,k.minIdLength=b,k.offline=T,k.partnerId=w,k.plan=A,k.serverUrl=P,k.serverZone=O,k.sessionTimeout=U,k.storageProvider=V,k.trackingOptions=W,k.transport=Z,k.useBatch=X,k.fetchRemoteConfig=ie,k.networkTrackingOptions=K,k.version=br,k._optOut=!1,k._cookieStorage=i,k.deviceId=c,k.lastEventId=m,k.lastEventTime=y,k.optOut=I,k.sessionId=M,k.pageCounter=Ee,k.userId=fe,k.debugLogsEnabled=re,k.loggerProvider.enable(re?te.Debug:k.logLevel),k.networkTrackingOptions=K,k}return Object.defineProperty(t.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(n){this._cookieStorage!==n&&(this._cookieStorage=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceId",{get:function(){return this._deviceId},set:function(n){this._deviceId!==n&&(this._deviceId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userId",{get:function(){return this._userId},set:function(n){this._userId!==n&&(this._userId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},set:function(n){this._sessionId!==n&&(this._sessionId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(n){this._optOut!==n&&(this._optOut=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(n){this._lastEventTime!==n&&(this._lastEventTime=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(n){this._lastEventId!==n&&(this._lastEventId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(n){this._pageCounter!==n&&(this._pageCounter=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugLogsEnabled",{set:function(n){this._debugLogsEnabled!==n&&(this._debugLogsEnabled=n,this.updateStorage())},enumerable:!1,configurable:!0}),t.prototype.updateStorage=function(){var n={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set(dr(this.apiKey),n)},t}(eu),fa=function(e,t,n){return t===void 0&&(t={}),_(void 0,void 0,void 0,function(){var r,i,u,a,o,c,s,d,f,h,l,v,m,y,p,g,b,T,I,w,A,P,O,M,U,V,W,Z,X,ie,fe,Ee,re,K,k,dt,ft,lt,ht,vt,pt,gt,mt;return E(this,function(ge){switch(ge.label){case 0:return r=t.identityStorage||tt,I={},r===tt?[3,1]:(u="",[3,5]);case 1:return(A=(w=t.cookieOptions)===null||w===void 0?void 0:w.domain)!==null&&A!==void 0?(a=A,[3,4]):[3,2];case 2:return[4,ha()];case 3:a=ge.sent(),ge.label=4;case 4:u=a,ge.label=5;case 5:return i=S.apply(void 0,[(I.domain=u,I.expiration=365,I.sameSite="Lax",I.secure=!1,I.upgrade=!0,I),t.cookieOptions]),o=la(t.identityStorage,i),[4,ea(e,o,(O=(P=t.cookieOptions)===null||P===void 0?void 0:P.upgrade)!==null&&O!==void 0?O:!0)];case 6:return c=ge.sent(),[4,o.get(dr(e))];case 7:return s=ge.sent(),d=et(),f=(Z=(W=(V=(U=(M=t.deviceId)!==null&&M!==void 0?M:d.ampDeviceId)!==null&&U!==void 0?U:d.deviceId)!==null&&V!==void 0?V:s==null?void 0:s.deviceId)!==null&&W!==void 0?W:c.deviceId)!==null&&Z!==void 0?Z:be(),h=(X=s==null?void 0:s.lastEventId)!==null&&X!==void 0?X:c.lastEventId,l=(ie=s==null?void 0:s.lastEventTime)!==null&&ie!==void 0?ie:c.lastEventTime,v=(Ee=(fe=t.optOut)!==null&&fe!==void 0?fe:s==null?void 0:s.optOut)!==null&&Ee!==void 0?Ee:c.optOut,m=(re=s==null?void 0:s.sessionId)!==null&&re!==void 0?re:c.sessionId,y=(k=(K=t.userId)!==null&&K!==void 0?K:s==null?void 0:s.userId)!==null&&k!==void 0?k:c.userId,n.previousSessionDeviceId=(dt=s==null?void 0:s.deviceId)!==null&&dt!==void 0?dt:c.deviceId,n.previousSessionUserId=(ft=s==null?void 0:s.userId)!==null&&ft!==void 0?ft:c.userId,p={ipAddress:(ht=(lt=t.trackingOptions)===null||lt===void 0?void 0:lt.ipAddress)!==null&&ht!==void 0?ht:!0,language:(pt=(vt=t.trackingOptions)===null||vt===void 0?void 0:vt.language)!==null&&pt!==void 0?pt:!0,platform:(mt=(gt=t.trackingOptions)===null||gt===void 0?void 0:gt.platform)!==null&&mt!==void 0?mt:!0},g=s==null?void 0:s.pageCounter,b=s==null?void 0:s.debugLogsEnabled,t.autocapture!==void 0&&(t.defaultTracking=t.autocapture),T=new da(e,t.appVersion,o,i,t.defaultTracking,t.autocapture,f,t.flushIntervalMillis,t.flushMaxRetries,t.flushQueueSize,r,t.ingestionMetadata,t.instanceName,h,l,t.loggerProvider,t.logLevel,t.minIdLength,t.offline,v,t.partnerId,t.plan,t.serverUrl,t.serverZone,m,t.sessionTimeout,t.storageProvider,p,t.transport,t.useBatch,t.fetchRemoteConfig,y,g,b,t.networkTrackingOptions),[4,T.storageProvider.isEnabled()];case 8:return ge.sent()||(T.loggerProvider.warn("Storage provider ".concat(T.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),T.storageProvider=new Ft),[2,T]}})})},la=function(e,t){switch(e===void 0&&(e=tt),t===void 0&&(t={}),e){case"localStorage":return new _r;case"sessionStorage":return new Qu;case"none":return new Ft;case"cookie":default:return new Lt(S(S({},t),{expirationDays:t.expiration}))}},Tr=function(e){return e==="xhr"?new Ju:e==="beacon"?new Zu:new Tu},ha=function(e){return _(void 0,void 0,void 0,function(){var t,n,r,i,u,u,a,o,c,s;return E(this,function(d){switch(d.label){case 0:return[4,new Lt().isEnabled()];case 1:if(!d.sent()||typeof location>"u"||!location.hostname)return[2,""];for(t=location.hostname,n=t.split("."),r=[],i="AMP_TLDTEST",u=n.length-2;u>=0;--u)r.push(n.slice(u).join("."));u=0,d.label=2;case 2:return u<r.length?(a=r[u],o={domain:"."+a},c=new Lt(o),[4,c.set(i,1)]):[3,7];case 3:return d.sent(),[4,c.get(i)];case 4:return s=d.sent(),s?[4,c.remove(i)]:[3,6];case 5:return d.sent(),[2,"."+a];case 6:return u++,[3,2];case 7:return[2,""]}})})},wr=function(){var e="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[e]<"u")return globalThis[e];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global},dn=function(){var e,t=wr();if(!(!((e=t==null?void 0:t.location)===null||e===void 0)&&e.search))return{};var n=t.location.search.substring(1).split("&").filter(Boolean),r=n.reduce(function(i,u){var a=u.split("=",2),o=fn(a[0]),c=fn(a[1]);return c&&(i[o]=c),i},{});return r},fn=function(e){e===void 0&&(e="");try{return decodeURIComponent(e)}catch{return""}},va="utm_campaign",pa="utm_content",ga="utm_id",ma="utm_medium",ya="utm_source",ba="utm_term",ln="dclid",hn="fbclid",vn="gbraid",pn="gclid",gn="ko_click_id",mn="li_fat_id",yn="msclkid",bn="rtd_cid",En="ttclid",_n="twclid",Tn="wbraid",Sr={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},Ea=function(){function e(){}return e.prototype.parse=function(){return _(this,void 0,void 0,function(){return E(this,function(t){return[2,S(S(S(S({},Sr),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},e.prototype.getUtmParam=function(){var t=dn(),n=t[va],r=t[pa],i=t[ga],u=t[ma],a=t[ya],o=t[ba];return{utm_campaign:n,utm_content:r,utm_id:i,utm_medium:u,utm_source:a,utm_term:o}},e.prototype.getReferrer=function(){var t,n,r={referrer:void 0,referring_domain:void 0};try{r.referrer=document.referrer||void 0,r.referring_domain=(n=(t=r.referrer)===null||t===void 0?void 0:t.split("/")[2])!==null&&n!==void 0?n:void 0}catch{}return r},e.prototype.getClickIds=function(){var t,n=dn();return t={},t[ln]=n[ln],t[hn]=n[hn],t[vn]=n[vn],t[pn]=n[pn],t[gn]=n[gn],t[mn]=n[mn],t[yn]=n[yn],t[bn]=n[bn],t[En]=n[En],t[_n]=n[_n],t[Tn]=n[Tn],t},e}(),nt;(function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"})(nt||(nt={}));var wn;(function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE_CURRENCY="$currency",e.REVENUE="$revenue"})(wn||(wn={}));var Sn;(function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"})(Sn||(Sn={}));var rt;(function(e){e.US="US",e.EU="EU"})(rt||(rt={}));var it;(function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"})(it||(it={}));var _a=function(e){var t={};for(var n in e){var r=e[n];r&&(t[n]=r)}return t},Ta="[Amplitude] Page Viewed",wa=function(e){e===void 0&&(e={});var t,n=wr(),r=void 0,i=!1,u,a=e.trackOn,o=e.trackHistoryChanges,c=e.eventType,s=c===void 0?Ta:c,d=function(p){var g=p;try{g=decodeURI(p)}catch(b){r==null||r.error("Malformed URI sequence: ",b)}return g},f=function(){return _(void 0,void 0,void 0,function(){var p,g,b;return E(this,function(T){switch(T.label){case 0:return p=d(typeof location<"u"&&location.href||""),b={event_type:s},g=[{}],[4,Sa()];case 1:return[2,(b.event_properties=S.apply(void 0,[S.apply(void 0,g.concat([T.sent()])),{"[Amplitude] Page Domain":typeof location<"u"&&location.hostname||"","[Amplitude] Page Location":p,"[Amplitude] Page Path":typeof location<"u"&&d(location.pathname)||"","[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":p.split("?")[0]}]),b)]}})})},h=function(){return typeof a>"u"||typeof a=="function"&&a()},l=typeof location<"u"?location.href:null,v=function(){return _(void 0,void 0,void 0,function(){var p,g,b,T;return E(this,function(I){switch(I.label){case 0:return p=location.href,g=Aa(o,p,l||"")&&h(),l=p,g?(r==null||r.log("Tracking page view event"),t!=null?[3,1]:[3,3]):[3,4];case 1:return T=(b=t).track,[4,f()];case 2:T.apply(b,[I.sent()]),I.label=3;case 3:I.label=4;case 4:return[2]}})})},m=function(){v()},y={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(p,g){return _(void 0,void 0,void 0,function(){var b,T;return E(this,function(I){switch(I.label){case 0:return t=g,u=p,r=p.loggerProvider,r.log("Installing @amplitude/plugin-page-view-tracking-browser"),i=!0,n&&(n.addEventListener("popstate",m),n.history.pushState=new Proxy(n.history.pushState,{apply:function(w,A,P){var O=C(P,3),M=O[0],U=O[1],V=O[2];w.apply(A,[M,U,V]),i&&v()}})),h()?(r.log("Tracking page view event"),T=(b=t).track,[4,f()]):[3,2];case 1:T.apply(b,[I.sent()]),I.label=2;case 2:return[2]}})})},execute:function(p){return _(void 0,void 0,void 0,function(){var g;return E(this,function(b){switch(b.label){case 0:return a==="attribution"&&Ia(p)?(r==null||r.log("Enriching campaign event to page view event with campaign parameters"),[4,f()]):[3,2];case 1:g=b.sent(),p.event_type=g.event_type,p.event_properties=S(S({},p.event_properties),g.event_properties),b.label=2;case 2:return u&&p.event_type===s&&(u.pageCounter=u.pageCounter?u.pageCounter+1:1,p.event_properties=S(S({},p.event_properties),{"[Amplitude] Page Counter":u.pageCounter})),[2,p]}})})},teardown:function(){return _(void 0,void 0,void 0,function(){return E(this,function(p){return n&&(n.removeEventListener("popstate",m),i=!1),[2]})})}};return y},Sa=function(){return _(void 0,void 0,void 0,function(){var e;return E(this,function(t){switch(t.label){case 0:return e=_a,[4,new Ea().parse()];case 1:return[2,e.apply(void 0,[t.sent()])]}})})},Ia=function(e){if(e.event_type==="$identify"&&e.user_properties){var t=e.user_properties,n=t[nt.SET]||{},r=t[nt.UNSET]||{},i=x(x([],C(Object.keys(n)),!1),C(Object.keys(r)),!1);return Object.keys(Sr).every(function(u){return i.includes(u)})}return!1},Aa=function(e,t,n){switch(e){case"pathOnly":{if(n=="")return!0;var r=new URL(t),i=new URL(n),u=r.origin+r.pathname,a=i.origin+i.pathname;return u!==a}default:return t!==n}},ka=function(){var e,t=[],n=function(s,d,f){s.addEventListener(d,f),t.push({element:s,type:d,handler:f})},r=function(){t.forEach(function(s){var d=s.element,f=s.type,h=s.handler;d==null||d.removeEventListener(f,h)}),t=[]},i="@amplitude/plugin-form-interaction-tracking-browser",u="enrichment",a=function(s,d){return _(void 0,void 0,void 0,function(){var f,h;return E(this,function(l){return f=function(){if(!d){s.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return}if(!(typeof document>"u")){var v=function(y){var p=!1;n(y,"change",function(){var g,b=In(y);p||d.track(on,(g={},g[Tt]=_e(y.id),g[wt]=_e(y.name),g[St]=b,g)),p=!0}),n(y,"submit",function(){var g,b,T=In(y);p||d.track(on,(g={},g[Tt]=_e(y.id),g[wt]=_e(y.name),g[St]=T,g)),d.track(na,(b={},b[Tt]=_e(y.id),b[wt]=_e(y.name),b[St]=T,b)),p=!1})},m=Array.from(document.getElementsByTagName("form"));m.forEach(v),typeof MutationObserver<"u"&&(e=new MutationObserver(function(y){y.forEach(function(p){p.addedNodes.forEach(function(g){g.nodeName==="FORM"&&v(g),"querySelectorAll"in g&&typeof g.querySelectorAll=="function"&&Array.from(g.querySelectorAll("form")).map(v)})})}),e.observe(document.body,{subtree:!0,childList:!0}))}},document.readyState==="complete"?f():(h=H(),h?h.addEventListener("load",f):s.loggerProvider.debug("Form interaction tracking is not installed because global is undefined.")),[2]})})},o=function(s){return _(void 0,void 0,void 0,function(){return E(this,function(d){return[2,s]})})},c=function(){return _(void 0,void 0,void 0,function(){return E(this,function(s){return e==null||e.disconnect(),r(),[2]})})};return{name:i,type:u,setup:a,execute:o,teardown:c}},_e=function(e){if(typeof e=="string")return e},In=function(e){var t=e.getAttribute("action");try{t=new URL(encodeURI(t??""),window.location.href).href}catch{}return t},Pa=function(){var e,t=[],n=function(s,d,f){s.addEventListener(d,f),t.push({element:s,type:d,handler:f})},r=function(){t.forEach(function(s){var d=s.element,f=s.type,h=s.handler;d==null||d.removeEventListener(f,h)}),t=[]},i="@amplitude/plugin-file-download-tracking-browser",u="enrichment",a=function(s,d){return _(void 0,void 0,void 0,function(){var f,h;return E(this,function(l){return f=function(){if(!d){s.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return}if(!(typeof document>"u")){var v=function(p){var g;try{g=new URL(p.href,window.location.href)}catch{return}var b=m.exec(g.href),T=b==null?void 0:b[1];T&&n(p,"click",function(){var I;T&&d.track(ra,(I={},I[ia]=T,I[ua]=g.pathname,I[aa]=p.id,I[oa]=p.text,I[sa]=p.href,I))})},m=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)(\?.+)?$/,y=Array.from(document.getElementsByTagName("a"));y.forEach(v),typeof MutationObserver<"u"&&(e=new MutationObserver(function(p){p.forEach(function(g){g.addedNodes.forEach(function(b){b.nodeName==="A"&&v(b),"querySelectorAll"in b&&typeof b.querySelectorAll=="function"&&Array.from(b.querySelectorAll("a")).map(v)})})}),e.observe(document.body,{subtree:!0,childList:!0}))}},document.readyState==="complete"?f():(h=H(),h?h.addEventListener("load",f):s.loggerProvider.debug("File download tracking is not installed because global is undefined.")),[2]})})},o=function(s){return _(void 0,void 0,void 0,function(){return E(this,function(d){return[2,s]})})},c=function(){return _(void 0,void 0,void 0,function(){return E(this,function(s){return e==null||e.disconnect(),r(),[2]})})};return{name:i,type:u,setup:a,execute:o,teardown:c}},An=!1,Ca=function(e){if(!(An||e.defaultTracking!==void 0)){var t=`\`options.defaultTracking\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \`options.defaultTracking\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:

amplitude.init(<YOUR_API_KEY>, {
  defaultTracking: true,
});

Visit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.`;e.loggerProvider.warn(t),An=!0}},Ra=function(){var e="@amplitude/plugin-network-checker-browser",t="before",n=H(),r=[],i=function(c,s){n!=null&&n.addEventListener&&(n==null||n.addEventListener(c,s),r.push({type:c,handler:s}))},u=function(){r.forEach(function(c){var s=c.type,d=c.handler;n==null||n.removeEventListener(s,d)}),r=[]},a=function(c,s){return _(void 0,void 0,void 0,function(){return E(this,function(d){return typeof navigator>"u"?(c.loggerProvider.debug("Network connectivity checker plugin is disabled because navigator is not available."),c.offline=!1,[2]):(c.offline=!navigator.onLine,i("online",function(){c.loggerProvider.debug("Network connectivity changed to online."),c.offline=!1,setTimeout(function(){s.flush()},c.flushIntervalMillis)}),i("offline",function(){c.loggerProvider.debug("Network connectivity changed to offline."),c.offline=!0}),[2])})})},o=function(){return _(void 0,void 0,void 0,function(){return E(this,function(c){return u(),[2]})})};return{name:e,type:t,setup:a,teardown:o}},Oa="Network error occurred, remote config fetch failed",La="Remote config successfully fetched",xa="Remote config fetch rejected due to exceeded retry count",kn="Remote config fetch rejected due to timeout after 5 seconds",Pn="Unexpected error occurred",Na="https://sr-client-cfg.amplitude.com/config",Da="https://sr-client-cfg.stag2.amplitude.com/config",Ua="https://sr-client-cfg.eu.amplitude.com/config",Ma=function(){function e(t){var n=t.localConfig,r=t.configKeys,i=this;this.retryTimeout=1e3,this.attempts=0,this.sessionTargetingMatch=!1,this.metrics={},this.getRemoteConfig=function(u,a,o){return _(i,void 0,void 0,function(){var c,s,d;return E(this,function(f){switch(f.label){case 0:return c=Date.now(),[4,this.fetchWithTimeout(o)];case 1:return s=f.sent(),s&&(d=s.configs&&s.configs[u],d)?(this.metrics.fetchTimeAPISuccess=Date.now()-c,[2,d[a]]):(this.metrics.fetchTimeAPIFail=Date.now()-c,[2,void 0])}})})},this.fetchWithTimeout=function(u){return _(i,void 0,void 0,function(){var a,o,c;return E(this,function(s){switch(s.label){case 0:return a=new AbortController,o=setTimeout(function(){return a.abort()},5e3),[4,this.fetchRemoteConfig(a.signal,u)];case 1:return c=s.sent(),clearTimeout(o),[2,c]}})})},this.fetchRemoteConfig=function(u,a){return _(i,void 0,void 0,function(){var o,c,s,d,f,h,l,v,m,y,p,g,b;return E(this,function(T){switch(T.label){case 0:if(a===this.lastFetchedSessionId&&this.attempts>=this.localConfig.flushMaxRetries)return[2,this.completeRequest({err:xa})];if(u.aborted)return[2,this.completeRequest({err:kn})];a!==this.lastFetchedSessionId&&(this.lastFetchedSessionId=a,this.attempts=0),T.label=1;case 1:T.trys.push([1,3,,4]),o=new URLSearchParams({api_key:this.localConfig.apiKey});try{for(c=L(this.configKeys),s=c.next();!s.done;s=c.next())d=s.value,o.append("config_keys",d)}catch(I){p={error:I}}finally{try{s&&!s.done&&(g=c.return)&&g.call(c)}finally{if(p)throw p.error}}return a&&o.set("session_id",String(a)),f={headers:{Accept:"*/*"},method:"GET"},h="".concat(this.getServerUrl(),"?").concat(o.toString()),this.attempts+=1,[4,fetch(h,S(S({},f),{signal:u}))];case 2:if(l=T.sent(),l===null)return[2,this.completeRequest({err:Pn})];switch(v=new st().buildStatus(l.status),v){case it.Success:return this.attempts=0,[2,this.parseAndStoreConfig(l)];case it.Failed:return[2,this.retryFetch(u,a)];default:return[2,this.completeRequest({err:Oa})]}case 3:return m=T.sent(),y=m,u.aborted?[2,this.completeRequest({err:kn})]:[2,this.completeRequest({err:(b=y.message)!==null&&b!==void 0?b:Pn})];case 4:return[2]}})})},this.retryFetch=function(u,a){return _(i,void 0,void 0,function(){var o=this;return E(this,function(c){switch(c.label){case 0:return[4,new Promise(function(s){return setTimeout(s,o.attempts*o.retryTimeout)})];case 1:return c.sent(),[2,this.fetchRemoteConfig(u,a)]}})})},this.parseAndStoreConfig=function(u){return _(i,void 0,void 0,function(){var a;return E(this,function(o){switch(o.label){case 0:return[4,u.json()];case 1:return a=o.sent(),this.completeRequest({success:La}),[2,a]}})})},this.localConfig=n,this.configKeys=r}return e.prototype.getServerUrl=function(){return this.localConfig.serverZone===rt.STAGING?Da:this.localConfig.serverZone===rt.EU?Ua:Na},e.prototype.completeRequest=function(t){var n=t.err,r=t.success;if(n)throw new Error(n);r&&this.localConfig.loggerProvider.log(r)},e}(),Fa=function(e){var t=e.localConfig,n=e.configKeys;return _(void 0,void 0,void 0,function(){return E(this,function(r){return[2,new Ma({localConfig:t,configKeys:n})]})})},ja=Fa,qa=function(){function e(t){this.config=t,this.config.loggerProvider.debug("Local configuration before merging with remote config",JSON.stringify(this.config,null,2))}return e.prototype.initialize=function(){return _(this,void 0,void 0,function(){var t;return E(this,function(n){switch(n.label){case 0:return t=this,[4,ja({localConfig:this.config,configKeys:["analyticsSDK"]})];case 1:return t.remoteConfigFetch=n.sent(),[2]}})})},e.prototype.generateJoinedConfig=function(){var t,n,r,i,u,a;return _(this,void 0,void 0,function(){var o,c,s,d,f,h,l,v,m,y,p,g,b;return E(this,function(T){switch(T.label){case 0:return T.trys.push([0,3,,4]),c=this.remoteConfigFetch,c?[4,this.remoteConfigFetch.getRemoteConfig("analyticsSDK","browserSDK",this.config.sessionId)]:[3,2];case 1:c=T.sent(),T.label=2;case 2:if(o=c,this.config.loggerProvider.debug("Remote configuration:",JSON.stringify(o,null,2)),o&&"autocapture"in o){if(typeof o.autocapture=="boolean"&&(this.config.autocapture=o.autocapture),typeof o.autocapture=="object"){if(s=S({},o.autocapture),this.config.autocapture===void 0&&(this.config.autocapture=o.autocapture),typeof o.autocapture.elementInteractions=="object"&&(!((t=o.autocapture.elementInteractions.pageUrlAllowlistRegex)===null||t===void 0)&&t.length)){s.elementInteractions=S({},o.autocapture.elementInteractions),d=s.elementInteractions,f=(n=d.pageUrlAllowlist)!==null&&n!==void 0?n:[],h=[];try{for(l=L(o.autocapture.elementInteractions.pageUrlAllowlistRegex),v=l.next();!v.done;v=l.next()){m=v.value;try{h.push(new RegExp(m))}catch(I){this.config.loggerProvider.warn("Invalid regex pattern: ".concat(m),I)}}}catch(I){g={error:I}}finally{try{v&&!v.done&&(b=l.return)&&b.call(l)}finally{if(g)throw g.error}}y=f.concat(h),d.pageUrlAllowlist=y,delete d.pageUrlAllowlistRegex}typeof this.config.autocapture=="boolean"&&(this.config.autocapture=S({attribution:this.config.autocapture,fileDownloads:this.config.autocapture,formInteractions:this.config.autocapture,pageViews:this.config.autocapture,sessions:this.config.autocapture,elementInteractions:this.config.autocapture,webVitals:this.config.autocapture,frustrationInteractions:this.config.autocapture},s)),typeof this.config.autocapture=="object"&&(this.config.autocapture=S(S({},this.config.autocapture),s))}this.config.defaultTracking=this.config.autocapture}return this.config.loggerProvider.debug("Joined configuration: ",JSON.stringify(this.config,null,2)),(r=(a=this.config).requestMetadata)!==null&&r!==void 0||(a.requestMetadata=new sr),!((i=this.remoteConfigFetch)===null||i===void 0)&&i.metrics.fetchTimeAPISuccess&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_success",this.remoteConfigFetch.metrics.fetchTimeAPISuccess),!((u=this.remoteConfigFetch)===null||u===void 0)&&u.metrics.fetchTimeAPIFail&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_fail",this.remoteConfigFetch.metrics.fetchTimeAPIFail),[3,4];case 3:return p=T.sent(),this.config.loggerProvider.error("Failed to fetch remote configuration because of error: ",p),[3,4];case 4:return[2,this.config]}})})},e}(),Va=function(e){return _(void 0,void 0,void 0,function(){var t;return E(this,function(n){switch(n.label){case 0:return t=new qa(e),[4,t.initialize()];case 1:return n.sent(),[2,t]}})})},$a="@amplitude/plugin-autocapture-browser",Ba="@amplitude/plugin-frustration-browser",xt="[Amplitude] Element Clicked",Ga="[Amplitude] Dead Click",Ha="[Amplitude] Rage Click",Wa="[Amplitude] Element Changed",Ka="[Amplitude] Element ID",za="[Amplitude] Element Class",Ir="[Amplitude] Element Tag",Ar="[Amplitude] Element Text",Ya="[Amplitude] Element Hierarchy",Xa="[Amplitude] Element Href",Qa="[Amplitude] Element Position Left",Ja="[Amplitude] Element Position Top",Za="[Amplitude] Element Aria Label",eo="[Amplitude] Element Attributes",to="[Amplitude] Element Parent Label",kr="[Amplitude] Page URL",no="[Amplitude] Page Title",ro="[Amplitude] Viewport Height",io="[Amplitude] Viewport Width",Ye="https://app.amplitude.com",uo="https://app.eu.amplitude.com",ao="https://apps.stag2.amplitude.com",oo={US:Ye,EU:uo,STAGING:ao},so="https://cdn.amplitude.com/libs/visual-tagging-selector-1.0.0-alpha.js.gz",co="amp-visual-tagging-selector-highlight";function D(e){return typeof e=="function"}function jt(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var It=jt(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function ut(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var De=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,u;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var o=L(a),c=o.next();!c.done;c=o.next()){var s=c.value;s.remove(this)}}catch(m){t={error:m}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}else a.remove(this);var d=this.initialTeardown;if(D(d))try{d()}catch(m){u=m instanceof It?m.errors:[m]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var h=L(f),l=h.next();!l.done;l=h.next()){var v=l.value;try{Cn(v)}catch(m){u=u??[],m instanceof It?u=x(x([],C(u)),C(m.errors)):u.push(m)}}}catch(m){r={error:m}}finally{try{l&&!l.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(u)throw new It(u)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Cn(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&ut(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&ut(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Pr=De.EMPTY;function Cr(e){return e instanceof De||e&&"closed"in e&&D(e.remove)&&D(e.add)&&D(e.unsubscribe)}function Cn(e){D(e)?e():e.unsubscribe()}var fo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Rr={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,x([e,t],C(n)))},clearTimeout:function(e){var t=Rr.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Or(e){Rr.setTimeout(function(){throw e})}function Nt(){}function Xe(e){e()}var qt=function(e){J(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Cr(n)&&n.add(r)):r.destination=vo,r}return t.create=function(n,r,i){return new Le(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(De),lo=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Ge(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Ge(r)}else Ge(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Ge(n)}},e}(),Le=function(e){J(t,e);function t(n,r,i){var u=e.call(this)||this,a;return D(n)||!n?a={next:n??void 0,error:r??void 0,complete:i??void 0}:a=n,u.destination=new lo(a),u}return t}(qt);function Ge(e){Or(e)}function ho(e){throw e}var vo={closed:!0,next:Nt,error:ho,complete:Nt},Vt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Lr(e){return e}function po(e){return e.length===0?Lr:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var B=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,u=mo(t)?t:new Le(t,n,r);return Xe(function(){var a=i,o=a.operator,c=a.source;u.add(o?o.call(u,c):c?i._subscribe(u):i._trySubscribe(u))}),u},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Rn(n),new n(function(i,u){var a=new Le({next:function(o){try{t(o)}catch(c){u(c),a.unsubscribe()}},error:u,complete:i});r.subscribe(a)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Vt]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return po(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Rn(t),new t(function(r,i){var u;n.subscribe(function(a){return u=a},function(a){return i(a)},function(){return r(u)})})},e.create=function(t){return new e(t)},e}();function Rn(e){var t;return(t=e??fo.Promise)!==null&&t!==void 0?t:Promise}function go(e){return e&&D(e.next)&&D(e.error)&&D(e.complete)}function mo(e){return e&&e instanceof qt||go(e)&&Cr(e)}function yo(e){return D(e==null?void 0:e.lift)}function ne(e){return function(t){if(yo(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function z(e,t,n,r,i){return new bo(e,t,n,r,i)}var bo=function(e){J(t,e);function t(n,r,i,u,a,o){var c=e.call(this,n)||this;return c.onFinalize=a,c.shouldUnsubscribe=o,c._next=r?function(s){try{r(s)}catch(d){n.error(d)}}:e.prototype._next,c._error=u?function(s){try{u(s)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=i?function(){try{i()}catch(s){n.error(s)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(qt),Eo=jt(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),xr=function(e){J(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new On(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Eo},t.prototype.next=function(n){var r=this;Xe(function(){var i,u;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=L(r.currentObservers),o=a.next();!o.done;o=a.next()){var c=o.value;c.next(n)}}catch(s){i={error:s}}finally{try{o&&!o.done&&(u=a.return)&&u.call(a)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;Xe(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;Xe(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,u=i.hasError,a=i.isStopped,o=i.observers;return u||a?Pr:(this.currentObservers=null,o.push(n),new De(function(){r.currentObservers=null,ut(o,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,u=r.thrownError,a=r.isStopped;i?n.error(u):a&&n.complete()},t.prototype.asObservable=function(){var n=new B;return n.source=this,n},t.create=function(n,r){return new On(n,r)},t}(B),On=function(e){J(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:Pr},t}(xr),_o={now:function(){return Date.now()},delegate:void 0},To=function(e){J(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(De),Ln={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,x([e,t],C(n)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},wo=function(e){J(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var u=this.id,a=this.scheduler;return u!=null&&(this.id=this.recycleAsyncId(a,u,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(a,this.id,r),this},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),Ln.setInterval(n.flush.bind(n,this),i)},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&Ln.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var i=!1,u;try{this.work(n)}catch(a){i=!0,u=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),u},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,u=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,ut(u,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(To),xn=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=_o.now,e}(),So=function(e){J(t,e);function t(n,r){r===void 0&&(r=xn.now);var i=e.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},t}(xn),Ue=new So(wo),Io=Ue,$t=new B(function(e){return e.complete()});function Nr(e){return e&&D(e.schedule)}function Dr(e){return e[e.length-1]}function Ao(e){return Nr(Dr(e))?e.pop():void 0}function ko(e,t){return typeof Dr(e)=="number"?e.pop():t}var Bt=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Ur(e){return D(e==null?void 0:e.then)}function Mr(e){return D(e[Vt])}function Fr(e){return Symbol.asyncIterator&&D(e==null?void 0:e[Symbol.asyncIterator])}function jr(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Po(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var qr=Po();function Vr(e){return D(e==null?void 0:e[qr])}function $r(e){return Ri(this,arguments,function(){var n,r,i,u;return E(this,function(a){switch(a.label){case 0:n=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Se(n.read())];case 3:return r=a.sent(),i=r.value,u=r.done,u?[4,Se(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Se(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Br(e){return D(e==null?void 0:e.getReader)}function Y(e){if(e instanceof B)return e;if(e!=null){if(Mr(e))return Co(e);if(Bt(e))return Ro(e);if(Ur(e))return Oo(e);if(Fr(e))return Gr(e);if(Vr(e))return Lo(e);if(Br(e))return xo(e)}throw jr(e)}function Co(e){return new B(function(t){var n=e[Vt]();if(D(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ro(e){return new B(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Oo(e){return new B(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Or)})}function Lo(e){return new B(function(t){var n,r;try{for(var i=L(e),u=i.next();!u.done;u=i.next()){var a=u.value;if(t.next(a),t.closed)return}}catch(o){n={error:o}}finally{try{u&&!u.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function Gr(e){return new B(function(t){No(e,t).catch(function(n){return t.error(n)})})}function xo(e){return Gr($r(e))}function No(e,t){var n,r,i,u;return _(this,void 0,void 0,function(){var a,o;return E(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=Oi(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=c.sent(),i={error:o},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(u=n.return)?[4,u.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function ve(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var u=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(u),!i)return u}function Hr(e,t){return t===void 0&&(t=0),ne(function(n,r){n.subscribe(z(r,function(i){return ve(r,e,function(){return r.next(i)},t)},function(){return ve(r,e,function(){return r.complete()},t)},function(i){return ve(r,e,function(){return r.error(i)},t)}))})}function Wr(e,t){return t===void 0&&(t=0),ne(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Do(e,t){return Y(e).pipe(Wr(t),Hr(t))}function Uo(e,t){return Y(e).pipe(Wr(t),Hr(t))}function Mo(e,t){return new B(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Fo(e,t){return new B(function(n){var r;return ve(n,t,function(){r=e[qr](),ve(n,t,function(){var i,u,a;try{i=r.next(),u=i.value,a=i.done}catch(o){n.error(o);return}a?n.complete():n.next(u)},0,!0)}),function(){return D(r==null?void 0:r.return)&&r.return()}})}function Kr(e,t){if(!e)throw new Error("Iterable cannot be null");return new B(function(n){ve(n,t,function(){var r=e[Symbol.asyncIterator]();ve(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function jo(e,t){return Kr($r(e),t)}function qo(e,t){if(e!=null){if(Mr(e))return Do(e,t);if(Bt(e))return Mo(e,t);if(Ur(e))return Uo(e,t);if(Fr(e))return Kr(e,t);if(Vr(e))return Fo(e,t);if(Br(e))return jo(e,t)}throw jr(e)}function Vo(e,t){return t?qo(e,t):Y(e)}function zr(e){return e instanceof Date&&!isNaN(e)}var $o=jt(function(e){return function(n){n===void 0&&(n=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n}});function Bo(e,t){var n=zr(e)?{first:e}:typeof e=="number"?{each:e}:e,r=n.first,i=n.each,u=n.with,a=u===void 0?Go:u,o=n.scheduler,c=o===void 0?Ue:o,s=n.meta,d=s===void 0?null:s;if(r==null&&i==null)throw new TypeError("No timeout provided.");return ne(function(f,h){var l,v,m=null,y=0,p=function(g){v=ve(h,c,function(){try{l.unsubscribe(),Y(a({meta:d,lastValue:m,seen:y})).subscribe(h)}catch(b){h.error(b)}},g)};l=f.subscribe(z(h,function(g){v==null||v.unsubscribe(),y++,h.next(m=g),i>0&&p(i)},void 0,void 0,function(){v!=null&&v.closed||v==null||v.unsubscribe(),m=null})),!y&&p(r!=null?typeof r=="number"?r:+r-c.now():i)})}function Go(e){throw new $o(e)}function G(e,t){return ne(function(n,r){var i=0;n.subscribe(z(r,function(u){r.next(e.call(t,u,i++))}))})}var Ho=Array.isArray;function Wo(e,t){return Ho(t)?e.apply(void 0,x([],C(t))):e(t)}function Ko(e){return G(function(t){return Wo(e,t)})}function zo(e,t,n,r,i,u,a,o){var c=[],s=0,d=0,f=!1,h=function(){f&&!c.length&&!s&&t.complete()},l=function(m){return s<r?v(m):c.push(m)},v=function(m){s++;var y=!1;Y(n(m,d++)).subscribe(z(t,function(p){t.next(p)},function(){y=!0},void 0,function(){if(y)try{s--;for(var p=function(){var g=c.shift();a||v(g)};c.length&&s<r;)p();h()}catch(g){t.error(g)}}))};return e.subscribe(z(t,l,function(){f=!0,h()})),function(){}}function Me(e,t,n){return n===void 0&&(n=1/0),D(t)?Me(function(r,i){return G(function(u,a){return t(r,u,i,a)})(Y(e(r,i)))},n):(typeof t=="number"&&(n=t),ne(function(r,i){return zo(r,i,e,n)}))}function Yo(e){return e===void 0&&(e=1/0),Me(Lr,e)}var Xo=["addListener","removeListener"],Qo=["addEventListener","removeEventListener"],Jo=["on","off"];function Ae(e,t,n,r){if(D(n)&&(r=n,n=void 0),r)return Ae(e,t,n).pipe(Ko(r));var i=C(ts(e)?Qo.map(function(o){return function(c){return e[o](t,c,n)}}):Zo(e)?Xo.map(Nn(e,t)):es(e)?Jo.map(Nn(e,t)):[],2),u=i[0],a=i[1];if(!u&&Bt(e))return Me(function(o){return Ae(o,t,n)})(Y(e));if(!u)throw new TypeError("Invalid event target");return new B(function(o){var c=function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];return o.next(1<s.length?s:s[0])};return u(c),function(){return a(c)}})}function Nn(e,t){return function(n){return function(r){return e[n](t,r)}}}function Zo(e){return D(e.addListener)&&D(e.removeListener)}function es(e){return D(e.on)&&D(e.off)}function ts(e){return D(e.addEventListener)&&D(e.removeEventListener)}function Yr(e,t,n){e===void 0&&(e=0),n===void 0&&(n=Io);var r=-1;return t!=null&&(Nr(t)?n=t:r=t),new B(function(i){var u=zr(e)?+e-n.now():e;u<0&&(u=0);var a=0;return n.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},u)})}function Gt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ao(e),r=ko(e,1/0),i=e;return i.length?i.length===1?Y(i[0]):Yo(r)(Vo(i,n)):$t}var ns=Array.isArray;function rs(e){return e.length===1&&ns(e[0])?e[0]:e}function Q(e,t){return ne(function(n,r){var i=0;n.subscribe(z(r,function(u){return e.call(t,u,i++)&&r.next(u)}))})}function is(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=rs(e),e.length===1?Y(e[0]):new B(us(e))}function us(e){return function(t){for(var n=[],r=function(u){n.push(Y(e[u]).subscribe(z(t,function(a){if(n){for(var o=0;o<n.length;o++)o!==u&&n[o].unsubscribe();n=null}t.next(a)})))},i=0;n&&!t.closed&&i<e.length;i++)r(i)}}function as(e){return ne(function(t,n){var r=[];return t.subscribe(z(n,function(i){return r.push(i)},function(){n.next(r),n.complete()})),Y(e).subscribe(z(n,function(){var i=r;r=[],n.next(i)},Nt)),function(){r=null}})}function os(e,t){return t===void 0&&(t=Ue),ne(function(n,r){var i=null,u=null,a=null,o=function(){if(i){i.unsubscribe(),i=null;var s=u;u=null,r.next(s)}};function c(){var s=a+e,d=t.now();if(d<s){i=this.schedule(void 0,s-d),r.add(i);return}o()}n.subscribe(z(r,function(s){u=s,a=t.now(),i||(i=t.schedule(c,e),r.add(i))},function(){o(),r.complete()},void 0,function(){u=i=null}))})}function Ht(e){return e<=0?function(){return $t}:ne(function(t,n){var r=0;t.subscribe(z(n,function(i){++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function ss(e){return G(function(){return e})}function cs(e,t){return Me(function(n,r){return Y(e(n,r)).pipe(Ht(1),ss(n))})}function ds(e,t){t===void 0&&(t=Ue);var n=Yr(e,t);return cs(function(){return n})}function fs(){return ne(function(e,t){var n,r=!1;e.subscribe(z(t,function(i){var u=n;n=i,r&&t.next([u,i]),r=!0}))})}function me(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new xr}:t,r=e.resetOnError,i=r===void 0?!0:r,u=e.resetOnComplete,a=u===void 0?!0:u,o=e.resetOnRefCountZero,c=o===void 0?!0:o;return function(s){var d,f,h,l=0,v=!1,m=!1,y=function(){f==null||f.unsubscribe(),f=void 0},p=function(){y(),d=h=void 0,v=m=!1},g=function(){var b=d;p(),b==null||b.unsubscribe()};return ne(function(b,T){l++,!m&&!v&&y();var I=h=h??n();T.add(function(){l--,l===0&&!m&&!v&&(f=At(g,c))}),I.subscribe(T),!d&&l>0&&(d=new Le({next:function(w){return I.next(w)},error:function(w){m=!0,y(),f=At(p,i,w),I.error(w)},complete:function(){v=!0,y(),f=At(p,a),I.complete()}}),Y(b).subscribe(d))})(s)}}function At(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var i=new Le({next:function(){i.unsubscribe(),e()}});return Y(t.apply(void 0,x([],C(n)))).subscribe(i)}}function ls(e,t){return ne(function(n,r){var i=null,u=0,a=!1,o=function(){return a&&!i&&r.complete()};n.subscribe(z(r,function(c){i==null||i.unsubscribe();var s=0,d=u++;Y(e(c,d)).subscribe(i=z(r,function(f){return r.next(t?t(c,f,d,s++):f)},function(){i=null,o()}))},function(){a=!0,o()}))})}function hs(e,t){return ne(function(n,r){var i=t??{},u=i.leading,a=u===void 0?!0:u,o=i.trailing,c=o===void 0?!1:o,s=!1,d=null,f=null,h=!1,l=function(){f==null||f.unsubscribe(),f=null,c&&(y(),h&&r.complete())},v=function(){f=null,h&&r.complete()},m=function(p){return f=Y(e(p)).subscribe(z(r,l,v))},y=function(){if(s){s=!1;var p=d;d=null,r.next(p),!h&&m(p)}};n.subscribe(z(r,function(p){s=!0,d=p,!(f&&!f.closed)&&(a?y():m(p))},function(){h=!0,!(c&&s&&f&&!f.closed)&&r.complete()}))})}function vs(e,t,n){t===void 0&&(t=Ue);var r=Yr(e,t);return hs(function(){return r},n)}var ps=["id","class","style","value","onclick","onchange","oninput","onblur","onsubmit","onfocus","onkeydown","onkeyup","onkeypress","data-reactid","data-react-checksum","data-reactroot"],gs=["type"],ms=["svg","path","g"],ys=["password","hidden"],bs=128,Es=1024;function _s(e){var t,n,r,i,u,a;if(e===null)return null;var o=String(e.tagName).toLowerCase(),c={tag:o},s=Array.from((i=(r=e.parentElement)===null||r===void 0?void 0:r.children)!==null&&i!==void 0?i:[]);s.length&&(c.index=s.indexOf(e),c.indexOfType=s.filter(function(T){return T.tagName===e.tagName}).indexOf(e));var d=(a=(u=e.previousElementSibling)===null||u===void 0?void 0:u.tagName)===null||a===void 0?void 0:a.toLowerCase();d&&(c.prevSib=String(d));var f=e.getAttribute("id");f&&(c.id=String(f));var h=Array.from(e.classList);h.length&&(c.classes=h);var l={},v=Array.from(e.attributes),m=v.filter(function(T){return!ps.includes(T.name)}),y=!Jr(e);if(!ys.includes(String(e.getAttribute("type")))&&!ms.includes(o))try{for(var p=L(m),g=p.next();!g.done;g=p.next()){var b=g.value;y&&!gs.includes(b.name)||(l[b.name]=String(b.value).substring(0,bs))}}catch(T){t={error:T}}finally{try{g&&!g.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}return Object.keys(l).length&&(c.attrs=l),c}function Ts(e){var t=[];if(!e)return t;t.push(e);for(var n=e.parentElement;n&&n.tagName!=="HTML";)t.push(n),n=n.parentElement;return t}var ws=function(e){var t=[];if(!e)return[];var n=Ts(e);return t=Ss(n.map(function(r){return _s(r)}),Es),t};function Ss(e,t){for(var n=0,r=0;r<e.length;r++){var i=e[r];if(i===null)n+=4;else{var u=Qe(i);n+=u?Array.from(u).length:4}if(n>t)return e.slice(0,r)}return e}function Qe(e,t){t===void 0&&(t=!1);try{if(e==null)return t?"None":null;if(typeof e=="string")return t?(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r"),e.includes('"')?"'".concat(e,"'"):e.includes("'")?'"'.concat(e.replace(/'/g,"\\'"),'"'):"'".concat(e,"'")):e;if(typeof e=="boolean")return e?"True":"False";if(Array.isArray(e)){var n=e.map(function(u){return Qe(u,!0)});return"[".concat(n.join(", "),"]")}else if(typeof e=="object"){var r=Object.entries(e).filter(function(u){var a=C(u,1),o=a[0];return o!=null}).map(function(u){var a=C(u,2),o=a[0],c=a[1];return"".concat(String(Qe(o,!0)),": ").concat(String(Qe(c,!0)))}),i="{".concat(r.join(", "),"}");return i.includes("\\'")&&(i=i.replace(/'/g,"'").replace(/'/g,"\\'")),i}return e.toString()}catch{return null}}var Is=["input","select","textarea"],Xr=function(e,t){var n,r=(n=window==null?void 0:window.getComputedStyle)===null||n===void 0?void 0:n.call(window,e);return(r==null?void 0:r.getPropertyValue("cursor"))==="pointer"&&t==="click"},Re=function(e,t,n){return n===void 0&&(n=!1),function(r,i){var u,a,o=e.pageUrlAllowlist,c=e.shouldTrackEventResolver,s=(a=(u=i==null?void 0:i.tagName)===null||u===void 0?void 0:u.toLowerCase)===null||a===void 0?void 0:a.call(u);if(!s)return!1;if(c)return c(r,i);if(!ks(window.location.href,o))return!1;var d=String(i==null?void 0:i.getAttribute("type"))||"";if(typeof d=="string")switch(d.toLowerCase()){case"hidden":return!1;case"password":return!1}var f=Xr(i,r);if(n&&f)return!0;if(t){var h=t.some(function(l){var v;return!!(!((v=i==null?void 0:i.matches)===null||v===void 0)&&v.call(i,l))});if(!h)return!1}switch(s){case"input":case"select":case"textarea":return r==="change"||r==="click";default:return f?!0:r==="click"}}},Qr=function(e){if(e==null)return!1;if(typeof e=="string"){var t=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;if(t.test((e||"").replace(/[- ]/g,"")))return!1;var n=/(^\d{3}-?\d{2}-?\d{4}$)/;if(n.test(e))return!1}return!0},As=function(e){return!!e&&e.nodeType===3},Jr=function(e){var t,n,r,i=(n=(t=e==null?void 0:e.tagName)===null||t===void 0?void 0:t.toLowerCase)===null||n===void 0?void 0:n.call(t),u=e instanceof HTMLElement?((r=e.getAttribute("contenteditable"))===null||r===void 0?void 0:r.toLowerCase())==="true":!1;return!Is.includes(i)&&!u},Wt=function(e){var t="";return Jr(e)&&e.childNodes&&e.childNodes.length&&e.childNodes.forEach(function(n){var r="";As(n)?n.textContent&&(r=n.textContent):r=Wt(n),t+=r.split(/(\s+)/).filter(Qr).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}),t},ks=function(e,t){return!t||!t.length?!0:t.some(function(n){return typeof n=="string"?e===n:e.match(n)})},Ps=function(e,t){return e.getAttributeNames().reduce(function(n,r){if(r.startsWith(t)){var i=r.replace(t,""),u=e.getAttribute(r);i&&(n[i]=u||"")}return n},{})},Cs=function(e){return e==null||typeof e=="object"&&Object.keys(e).length===0||typeof e=="string"&&e.trim().length===0},Zr=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return Cs(r)||(t[n]=r),t},{})},ei=function(e){var t=e.parentElement;if(!t)return"";var n;try{n=t.querySelector(":scope>span,h1,h2,h3,h4,h5,h6")}catch{n=null}if(n){var r=n.textContent||"";return Qr(r)?r:""}return ei(t)},Kt=function(e,t){return e?t.some(function(n){var r;return(r=e==null?void 0:e.matches)===null||r===void 0?void 0:r.call(e,n)})?e:Kt(e==null?void 0:e.parentElement,t):null},Rs=function(e){var t,n,r;if(!e)return{};var i=(r=(n=e==null?void 0:e.tagName)===null||n===void 0?void 0:n.toLowerCase)===null||r===void 0?void 0:r.call(n),u=(t={},t[Ir]=i,t[Ar]=Wt(e),t[kr]=window.location.href.split("?")[0],t);return Zr(u)},Os=function(e){return new Promise(function(t,n){var r;try{var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.addEventListener("load",function(){t({status:!0})},{once:!0}),i.addEventListener("error",function(){n({status:!1,message:"Failed to load the script ".concat(e)})}),(r=document.head)===null||r===void 0||r.appendChild(i)}catch(u){n(u)}})};function Ls(){return"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}var Fe=function(e){return!(e.event.target===null||!e.closestTrackedAncestor)},xe=function(e,t,n){var r,i,u,a=(u=(i=t==null?void 0:t.tagName)===null||i===void 0?void 0:i.toLowerCase)===null||u===void 0?void 0:u.call(i),o=typeof t.getBoundingClientRect=="function"?t.getBoundingClientRect():{left:null,top:null},c=t.getAttribute("aria-label"),s=Ps(t,n),d=ei(t),f=(r={},r[Ka]=t.getAttribute("id")||"",r[za]=t.getAttribute("class"),r[Ya]=ws(t),r[Ir]=a,r[Ar]=Wt(t),r[Qa]=o.left==null?null:Math.round(o.left),r[Ja]=o.top==null?null:Math.round(o.top),r[Za]=c,r[eo]=s,r[to]=d,r[kr]=window.location.href.split("?")[0],r[no]=typeof document<"u"&&document.title||"",r[ro]=window.innerHeight,r[io]=window.innerWidth,r);return a==="a"&&e==="click"&&t instanceof HTMLAnchorElement&&(f[Xa]=t.href),Zr(f)},ye=function(e,t,n,r,i){i===void 0&&(i=!1);var u={event:e,timestamp:Date.now(),type:t};if(xs(u)&&u.event.target!==null){if(i){var a=Xr(u.event.target,u.type);if(a)return u.closestTrackedAncestor=u.event.target,u.targetElementProperties=xe(u.type,u.closestTrackedAncestor,r),u}var o=Kt(u.event.target,n);return o&&(u.closestTrackedAncestor=o,u.targetElementProperties=xe(u.type,o,r)),u}return u};function xs(e){return e.type==="click"||e.type==="change"}var Ns=function(){function e(t){var n=t===void 0?{}:t,r=n.origin,i=r===void 0?Ye:r,u=this;this.endpoint=Ye,this.requestCallbacks={},this.onSelect=function(a){u.notify({action:"element-selected",data:a})},this.onTrack=function(a,o){a==="selector-mode-changed"?u.notify({action:"track-selector-mode-changed",data:o}):a==="selector-moved"&&u.notify({action:"track-selector-moved",data:o})},this.endpoint=i}return e.prototype.notify=function(t){var n,r,i,u;(r=(n=this.logger)===null||n===void 0?void 0:n.debug)===null||r===void 0||r.call(n,"Message sent: ",JSON.stringify(t)),(u=(i=window.opener)===null||i===void 0?void 0:i.postMessage)===null||u===void 0||u.call(i,t,this.endpoint)},e.prototype.sendRequest=function(t,n,r){var i=this;r===void 0&&(r={timeout:15e3});var u=Ls(),a={id:u,action:t,args:n},o=new Promise(function(c,s){i.requestCallbacks[u]={resolve:c,reject:s},i.notify(a),(r==null?void 0:r.timeout)>0&&setTimeout(function(){s(new Error("".concat(t," timed out (id: ").concat(u,")"))),delete i.requestCallbacks[u]},r.timeout)});return o},e.prototype.handleResponse=function(t){var n;if(!this.requestCallbacks[t.id]){(n=this.logger)===null||n===void 0||n.warn("No callback found for request id: ".concat(t.id));return}this.requestCallbacks[t.id].resolve(t.responseData),delete this.requestCallbacks[t.id]},e.prototype.setup=function(t){var n=this,r=t===void 0?{}:t,i=r.logger,u=r.endpoint,a=r.isElementSelectable,o=r.cssSelectorAllowlist,c=r.actionClickAllowlist;this.logger=i,u&&this.endpoint===Ye&&(this.endpoint=u);var s=null;window.addEventListener("message",function(d){var f,h,l,v,m;if((h=(f=n.logger)===null||f===void 0?void 0:f.debug)===null||h===void 0||h.call(f,"Message received: ",JSON.stringify(d)),n.endpoint===d.origin){var y=d==null?void 0:d.data,p=y==null?void 0:y.action;if(p)if("id"in y)(v=(l=n.logger)===null||l===void 0?void 0:l.debug)===null||v===void 0||v.call(l,"Received Response to previous request: ",JSON.stringify(d)),n.handleResponse(y);else if(p==="ping")n.notify({action:"pong"});else if(p==="initialize-visual-tagging-selector"){var g=y==null?void 0:y.data;Os(so).then(function(){var b;s=(b=window==null?void 0:window.amplitudeVisualTaggingSelector)===null||b===void 0?void 0:b.call(window,{getEventTagProps:Rs,isElementSelectable:function(T){return a?a((g==null?void 0:g.actionType)||"click",T):!0},onTrack:n.onTrack,onSelect:n.onSelect,visualHighlightClass:co,messenger:n,cssSelectorAllowlist:o,actionClickAllowlist:c}),n.notify({action:"selector-loaded"})}).catch(function(){var b;(b=n.logger)===null||b===void 0||b.warn("Failed to initialize visual tagging selector")})}else p==="close-visual-tagging-selector"&&((m=s==null?void 0:s.close)===null||m===void 0||m.call(s))}}),this.notify({action:"page-loaded"})},e}(),Ds=5;function Us(e){var t=e.amplitude,n=e.allObservables,r=e.options,i=e.shouldTrackEvent,u=e.evaluateTriggers,a=n.clickObservable,o=a.pipe(fs(),Q(function(f){var h=C(f,2),l=h[0],v=h[1],m=l.event.target!==v.event.target,y=Math.abs(v.event.screenX-l.event.screenX)<=20&&Math.abs(v.event.screenY-l.event.screenY)<=20;return m&&!y})),c=a.pipe(os(r.debounceTime),G(function(){return"timeout"})),s=Gt(o,c),d=a.pipe(ds(0),Q(Fe),Q(function(f){return i("click",f.closestTrackedAncestor)}),G(function(f){return u(f)}),as(s));return d.subscribe(function(f){var h,l,v=(f.length>=Ds,xt);try{for(var m=L(f),y=m.next();!y.done;y=m.next()){var p=y.value;t==null||t.track(v,p.targetElementProperties)}}catch(g){h={error:g}}finally{try{y&&!y.done&&(l=m.return)&&l.call(m)}finally{if(h)throw h.error}}})}function Ms(e){var t=e.amplitude,n=e.allObservables,r=e.getEventProperties,i=e.shouldTrackEvent,u=e.evaluateTriggers,a=n.changeObservable,o=a.pipe(Q(Fe),Q(function(c){return i("change",c.closestTrackedAncestor)}),G(function(c){return u(c)}));return o.subscribe(function(c){t==null||t.track(Wa,r("change",c.closestTrackedAncestor))})}function Fs(e){var t=e.amplitude,n=e.allObservables,r=e.options,i=e.getEventProperties,u=e.shouldTrackEvent,a=e.shouldTrackActionClick,o=n.clickObservable,c=n.mutationObservable,s=n.navigateObservable,d=o.pipe(Q(function(v){return!u("click",v.closestTrackedAncestor)}),G(function(v){var m=Kt(v.event.target,r.actionClickAllowlist);return v.closestTrackedAncestor=m,v.closestTrackedAncestor!==null&&(v.targetElementProperties=i(v.type,v.closestTrackedAncestor)),v}),Q(Fe),Q(function(v){return a("click",v.closestTrackedAncestor)})),f=[c];s&&f.push(s);var h=Gt.apply(void 0,x([],C(f),!1)),l=d.pipe(ls(function(v){return h.pipe(Ht(1),Bo({first:500,with:function(){return $t}}),G(function(){return v}))}));return l.subscribe(function(v){t==null||t.track(xt,i("click",v.closestTrackedAncestor))})}var ti=function(){return new B(function(e){var t=new MutationObserver(function(n){e.next(n)});return t.observe(document.body,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),function(){return t.disconnect()}})},ni=function(){return Ae(document,"click",{capture:!0})},js=function(e,t){try{if(t.subprop_key==="[Amplitude] Element Text")return t.subprop_op==="exact"&&t.subprop_value.includes(e.targetElementProperties["[Amplitude] Element Text"]);if(t.subprop_key==="[Amplitude] Element Hierarchy")return t.subprop_op==="autotrack css match"&&!!e.closestTrackedAncestor.closest(t.subprop_value.toString())}catch(n){return console.error("Error matching event to filter",n),!1}return!1},qs=function(e){var t,n,r,i,u,a={click:new Set,change:new Set};if(!e)return a;try{for(var o=L(e),c=o.next();!c.done;c=o.next()){var s=c.value;try{try{for(var d=(r=void 0,L(s.definition)),f=d.next();!f.done;f=d.next()){var h=f.value;(u=a[h.event_type])===null||u===void 0||u.add(s.id)}}catch(l){r={error:l}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}catch(l){console.warn("Skipping Labeled Event due to malformed definition",s==null?void 0:s.id,l)}}}catch(l){t={error:l}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return a},Vs=function(e){var t,n,r,i,u=new Map;try{for(var a=L(e),o=a.next();!o.done;o=a.next()){var c=o.value;try{for(var s=(r=void 0,L(c.conditions)),d=s.next();!d.done;d=s.next()){var f=d.value;if(f.type==="LABELED_EVENT"){var h=f.match.eventId,l=u.get(h);l||(l=[],u.set(h,l)),l.push(c)}}}catch(v){r={error:v}}finally{try{d&&!d.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}}catch(v){t={error:v}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return u},$s=function(e,t){return t.filter(function(n){return n.definition.some(function(r){return r.event_type===e.type&&r.filters.every(function(i){return js(e,i)})})})},Bs=function(e,t){var n,r,i=new Set;try{for(var u=L(e),a=u.next();!a.done;a=u.next()){var o=a.value,c=t.get(o.id);c&&c.forEach(function(s){return i.add(s)})}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return Array.from(i)},Gs=function(e,t){if(e.sourceType==="DOM_ELEMENT"){var n=document.documentElement;return e.scope&&t&&(n=t.closest(e.scope)),n&&e.selector?n.querySelector(e.selector):n}},Hs=function(e,t){if(e.sourceType==="DOM_ELEMENT"){var n=Gs(e,t);return n?e.elementExtractType==="TEXT"?n.textContent:e.elementExtractType==="ATTRIBUTE"&&e.attribute?n.getAttribute(e.attribute):void 0:void 0}},Ws=function(e,t){e.forEach(function(n){if(typeof n!="string"&&n.actionType==="ATTACH_EVENT_PROPERTY"){var r=Hs(n.dataSource,t.closestTrackedAncestor);t.targetElementProperties[n.destinationKey]=r}})},oe;(function(e){e.ClickObservable="clickObservable",e.ChangeObservable="changeObservable",e.NavigateObservable="navigateObservable",e.MutationObservable="mutationObservable"})(oe||(oe={}));var Ks=function(e){var t,n,r,i,u,a,o;e===void 0&&(e={});var c=e.dataAttributePrefix,s=c===void 0?fr:c,d=e.visualTaggingOptions,f=d===void 0?{enabled:!0,messenger:new Ns}:d;e.cssSelectorAllowlist=(t=e.cssSelectorAllowlist)!==null&&t!==void 0?t:Su,e.actionClickAllowlist=(n=e.actionClickAllowlist)!==null&&n!==void 0?n:Iu,e.debounceTime=(r=e.debounceTime)!==null&&r!==void 0?r:0;var h=$a,l="enrichment",v=[],m=function(){var w,A=ni().pipe(G(function(U){return ye(U,"click",e.cssSelectorAllowlist,s)}),me()),P=Ae(document,"change",{capture:!0}).pipe(G(function(U){return ye(U,"change",e.cssSelectorAllowlist,s)}),me()),O;window.navigation&&(O=Ae(window.navigation,"navigate").pipe(G(function(U){return ye(U,"navigate",e.cssSelectorAllowlist,s)}),me()));var M=ti().pipe(G(function(U){return ye(U,"mutation",e.cssSelectorAllowlist,s)}),me());return w={},w[oe.ClickObservable]=A,w[oe.ChangeObservable]=P,w[oe.NavigateObservable]=O,w[oe.MutationObservable]=M,w},y=qs(Object.values((u=(i=e.pageActions)===null||i===void 0?void 0:i.labeledEvents)!==null&&u!==void 0?u:{})),p=Vs((o=(a=e.pageActions)===null||a===void 0?void 0:a.triggers)!==null&&o!==void 0?o:[]),g=function(w){var A,P,O=e.pageActions;if(!O)return w;var M=$s(w,Array.from(y[w.type]).map(function(X){return O.labeledEvents[X]})),U=Bs(M,p);try{for(var V=L(U),W=V.next();!W.done;W=V.next()){var Z=W.value;Ws(Z.actions,w)}}catch(X){A={error:X}}finally{try{W&&!W.done&&(P=V.return)&&P.call(V)}finally{if(A)throw A.error}}return w},b=function(w,A){return _(void 0,void 0,void 0,function(){var P,O,M,U,V,W,Z,X,ie,fe;return E(this,function(Ee){return typeof document>"u"?[2]:(P=Re(e,e.cssSelectorAllowlist),O=Re(e,e.actionClickAllowlist),M=m(),U=Us({allObservables:M,options:e,amplitude:A,shouldTrackEvent:P,evaluateTriggers:g}),v.push(U),V=Ms({allObservables:M,getEventProperties:function(){for(var re=[],K=0;K<arguments.length;K++)re[K]=arguments[K];return xe.apply(void 0,x(x([],C(re),!1),[s],!1))},amplitude:A,shouldTrackEvent:P,evaluateTriggers:g}),v.push(V),W=Fs({allObservables:M,options:e,getEventProperties:function(){for(var re=[],K=0;K<arguments.length;K++)re[K]=arguments[K];return xe.apply(void 0,x(x([],C(re),!1),[s],!1))},amplitude:A,shouldTrackEvent:P,shouldTrackActionClick:O}),v.push(W),(ie=w==null?void 0:w.loggerProvider)===null||ie===void 0||ie.log("".concat(h," has been successfully added.")),window.opener&&f.enabled&&(Z=e.cssSelectorAllowlist,X=e.actionClickAllowlist,(fe=f.messenger)===null||fe===void 0||fe.setup(S(S({logger:w==null?void 0:w.loggerProvider},(w==null?void 0:w.serverZone)&&{endpoint:oo[w.serverZone]}),{isElementSelectable:Re(e,x(x([],C(Z),!1),C(X),!1)),cssSelectorAllowlist:Z,actionClickAllowlist:X}))),[2])})})},T=function(w){return _(void 0,void 0,void 0,function(){return E(this,function(A){return[2,w]})})},I=function(){return _(void 0,void 0,void 0,function(){var w,A,P,O,M;return E(this,function(U){try{for(w=L(v),A=w.next();!A.done;A=w.next())P=A.value,P.unsubscribe()}catch(V){O={error:V}}finally{try{A&&!A.done&&(M=w.return)&&M.call(w)}finally{if(O)throw O.error}}return[2]})})};return{name:h,type:l,setup:b,execute:T,teardown:I}},Dn=3e3;function zs(e){var t=e.amplitude,n=e.allObservables,r=e.getEventProperties,i=e.shouldTrackDeadClick,u=n.clickObservable,a=n.mutationObservable,o=n.navigateObservable,c=u.pipe(Q(Fe),Q(function(h){return i("click",h.closestTrackedAncestor)})),s=[a];o&&s.push(o);var d=Gt.apply(void 0,x([],C(s),!1)),f=c.pipe(Me(function(h){var l,v=new B(function(m){return l=setTimeout(function(){return m.next(h)},Dn),function(){clearTimeout(l)}});return is(v,d.pipe(Ht(1),G(function(){return null}))).pipe(Q(function(m){return m!==null}))}),vs(Dn));return f.subscribe(function(h){var l={"[Amplitude] X":h.event.clientX,"[Amplitude] Y":h.event.clientY};t.track(Ga,S(S({},r("click",h.closestTrackedAncestor)),l),{time:h.timestamp})})}var Ys=Ru,Xs=Cu;function Qs(e){var t=e.amplitude,n=e.allObservables,r=e.shouldTrackRageClick,i=n.clickObservable,u=[];return i.pipe(Q(Fe),Q(function(a){return r("click",a.closestTrackedAncestor)}),G(function(a){var o=a.timestamp;u.length>0&&u[u.length-1].closestTrackedAncestor!==a.closestTrackedAncestor&&u.splice(0,u.length);for(var c=0;c<u.length&&!(o-u[c].timestamp<Xs);c++);if(u.splice(0,c),u.push(a),u.length<Ys)return null;var s=u[0],d=u[u.length-1],f=S({"[Amplitude] Begin Time":new Date(s.timestamp).toISOString(),"[Amplitude] End Time":new Date(d.timestamp).toISOString(),"[Amplitude] Duration":d.timestamp-s.timestamp,"[Amplitude] Clicks":u.map(function(h){return{X:h.event.clientX,Y:h.event.clientY,Time:h.timestamp}}),"[Amplitude] Click Count":u.length},s.targetElementProperties);return u.splice(0,u.length),{rageClickEvent:f,time:s.timestamp}}),Q(function(a){return a!==null})).subscribe(function(a){a!==null&&t.track(Ha,a.rageClickEvent,{time:a.time})})}var Js=function(e){var t,n,r,i,u;e===void 0&&(e={});var a=Ba,o="enrichment",c=[],s=(n=(t=e.rageClicks)===null||t===void 0?void 0:t.cssSelectorAllowlist)!==null&&n!==void 0?n:Pu,d=(i=(r=e.deadClicks)===null||r===void 0?void 0:r.cssSelectorAllowlist)!==null&&i!==void 0?i:ku,f=(u=e.dataAttributePrefix)!==null&&u!==void 0?u:fr,h=x([],C(new Set(x(x([],C(s),!1),C(d),!1))),!1),l=function(){var p,g=ni().pipe(G(function(I){return ye(I,"click",h,f,!0)}),me()),b;window.navigation&&(b=Ae(window.navigation,"navigate").pipe(G(function(I){return ye(I,"navigate",h,f)}),me()));var T=ti().pipe(G(function(I){return ye(I,"mutation",h,f)}),me());return p={},p[oe.ClickObservable]=g,p[oe.ChangeObservable]=new B,p[oe.NavigateObservable]=b,p[oe.MutationObservable]=T,p},v=function(p,g){return _(void 0,void 0,void 0,function(){var b,T,I,w,A,P;return E(this,function(O){return typeof document>"u"?[2]:(b=Re(e,s),T=Re(e,d),I=l(),w=Qs({allObservables:I,amplitude:g,shouldTrackRageClick:b}),c.push(w),A=zs({amplitude:g,allObservables:I,getEventProperties:function(M,U){return xe(M,U,f)},shouldTrackDeadClick:T}),c.push(A),(P=p==null?void 0:p.loggerProvider)===null||P===void 0||P.log("".concat(a," has been successfully added.")),[2])})})},m=function(p){return _(void 0,void 0,void 0,function(){return E(this,function(g){return[2,p]})})},y=function(){return _(void 0,void 0,void 0,function(){var p,g,b,T,I;return E(this,function(w){try{for(p=L(c),g=p.next();!g.done;g=p.next())b=g.value,b.unsubscribe()}catch(A){T={error:A}}finally{try{g&&!g.done&&(I=p.return)&&I.call(p)}finally{if(T)throw T.error}}return[2]})})};return{name:a,type:o,setup:v,execute:m,teardown:y}},Zs="@amplitude/plugin-network-capture-browser",ri="[Amplitude] Network Request",ii="500-599";function Je(e,t){var n=t.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&"),r="^"+n.replace(/\*/g,".*")+"$",i=new RegExp(r);return i.test(e)}function ui(e,t){var n,r,i=t.split(",");try{for(var u=L(i),a=u.next();!a.done;a=u.next()){var o=a.value,c=C(o.split("-").map(Number),2),s=c[0],d=c[1];if(e===s&&d===void 0||e>=s&&e<=d)return!0}}catch(f){n={error:f}}finally{try{a&&!a.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return!1}function ec(e,t,n){if(!(e.hosts&&!e.hosts.find(function(i){return Je(t,i)}))){if(n||n===0){var r=e.statusCodeRange||ii;if(!ui(n,r))return!1}return!0}}function ai(e){var t;if(e)try{var n=(t=H())===null||t===void 0?void 0:t.location.href,r=new URL(e,n),i=r.searchParams.toString(),u=r.hash.replace("#",""),a=r.href,o=r.host;r.hash="",r.search="";var c=r.href;return{query:i,fragment:u,href:a,hrefWithoutQueryOrHash:c,host:o}}catch{return}}function tc(e,t){if(e.includes("amplitude.com"))try{var n=t.body;if(typeof n!="string")return!1;var r=JSON.parse(n),i=r.events;if(i.find(function(u){return u.event_type===ri}))return!0}catch{}return!1}function nc(e,t){var n;t===void 0&&(t={});var r=ai(e.url);if(!r)return!1;var i=r.host;if(t.ignoreAmplitudeRequests!==!1&&(Je(i,"*.amplitude.com")||Je(i,"amplitude.com"))||!((n=t.ignoreHosts)===null||n===void 0)&&n.find(function(a){return Je(i,a)})||!t.captureRules&&e.status!==void 0&&!ui(e.status,ii))return!1;if(t.captureRules){var u;if(x([],C(t.captureRules),!1).reverse().find(function(a){return u=ec(a,i,e.status),u!==void 0}),!u)return!1}return!(e.requestWrapper&&tc(i,e.requestWrapper))}function rc(e){var t=e.allObservables,n=e.networkTrackingOptions,r=e.amplitude,i=t.networkObservable,u=i.pipe(Q(function(a){return nc(a.event,n)}));return u.subscribe(function(a){var o,c,s,d=a.event,f=ai(d.url);if(f){var h=(c=d.responseWrapper)===null||c===void 0?void 0:c.bodySize,l=(s=d.requestWrapper)===null||s===void 0?void 0:s.bodySize,v=(o={},o["[Amplitude] URL"]=f.hrefWithoutQueryOrHash,o["[Amplitude] URL Query"]=f.query,o["[Amplitude] URL Fragment"]=f.fragment,o["[Amplitude] Request Method"]=d.method,o["[Amplitude] Status Code"]=d.status,o["[Amplitude] Start Time"]=d.startTime,o["[Amplitude] Completion Time"]=d.endTime,o["[Amplitude] Duration"]=d.duration,o["[Amplitude] Request Body Size"]=l,o["[Amplitude] Response Body Size"]=h,o["[Amplitude] Request Type"]=d.type,o);r==null||r.track(ri,v)}})}var Dt;(function(e){e.NetworkObservable="networkObservable"})(Dt||(Dt={}));var ic=function(e){e===void 0&&(e={});var t=Zs,n="enrichment",r,i=[],u=function(d,f){var h={event:d,timestamp:Date.now(),type:f};return h},a=function(){var d,f=new B(function(h){var l=new Mu(function(v){var m=u(v,"network");h.next(m)});return un.subscribe(l,r),function(){un.unsubscribe(l)}});return d={},d[Dt.NetworkObservable]=f,d},o=function(d,f){return _(void 0,void 0,void 0,function(){var h,l;return E(this,function(v){return typeof document>"u"?[2]:(h=a(),l=rc({allObservables:h,networkTrackingOptions:e,amplitude:f}),i.push(l),r=d==null?void 0:d.loggerProvider,r==null||r.log("".concat(t," has been successfully added.")),[2])})})},c=function(d){return _(void 0,void 0,void 0,function(){return E(this,function(f){return[2,d]})})},s=function(){return _(void 0,void 0,void 0,function(){var d,f,h,l,v;return E(this,function(m){try{for(d=L(i),f=d.next();!f.done;f=d.next())h=f.value,h.unsubscribe()}catch(y){l={error:y}}finally{try{f&&!f.done&&(v=d.return)&&v.call(d)}finally{if(l)throw l.error}}return[2]})})};return{name:t,type:n,setup:o,execute:c,teardown:s}},uc="web-vitals-browser",ac="[Amplitude] Web Vitals";let oi=-1;const ke=e=>{addEventListener("pageshow",t=>{t.persisted&&(oi=t.timeStamp,e(t))},!0)},ce=(e,t,n,r)=>{let i,u;return a=>{t.value>=0&&(a||r)&&(u=t.value-(i??0),(u||i===void 0)&&(i=t.value,t.delta=u,t.rating=((o,c)=>o>c[1]?"poor":o>c[0]?"needs-improvement":"good")(t.value,n),e(t)))}},zt=e=>{requestAnimationFrame(()=>requestAnimationFrame(()=>e()))},Yt=()=>{const e=performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},je=()=>{const e=Yt();return(e==null?void 0:e.activationStart)??0},de=(e,t=-1)=>{const n=Yt();let r="navigate";return oi>=0?r="back-forward-cache":n&&(document.prerendering||je()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},kt=new WeakMap;function Xt(e,t){return kt.get(e)||kt.set(e,new t),kt.get(e)}class oc{constructor(){le(this,"t");le(this,"i",0);le(this,"o",[])}h(t){var i;if(t.hadRecentInput)return;const n=this.o[0],r=this.o.at(-1);this.i&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this.i+=t.value,this.o.push(t)):(this.i=t.value,this.o=[t]),(i=this.t)==null||i.call(this,t)}}const qe=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},Qt=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let we=-1;const Un=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,at=e=>{document.visibilityState==="hidden"&&we>-1&&(we=e.type==="visibilitychange"?e.timeStamp:0,sc())},Mn=()=>{addEventListener("visibilitychange",at,!0),addEventListener("prerenderingchange",at,!0)},sc=()=>{removeEventListener("visibilitychange",at,!0),removeEventListener("prerenderingchange",at,!0)},si=()=>{var e;if(we<0){const t=je();we=(document.prerendering||(e=globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>t)[0])==null?void 0:e.startTime)??Un(),Mn(),ke(()=>{setTimeout(()=>{we=Un(),Mn()})})}return{get firstHiddenTime(){return we}}},ct=e=>{document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},Fn=[1800,3e3],ci=(e,t={})=>{ct(()=>{const n=si();let r,i=de("FCP");const u=qe("paint",a=>{for(const o of a)o.name==="first-contentful-paint"&&(u.disconnect(),o.startTime<n.firstHiddenTime&&(i.value=Math.max(o.startTime-je(),0),i.entries.push(o),r(!0)))});u&&(r=ce(e,i,Fn,t.reportAllChanges),ke(a=>{i=de("FCP"),r=ce(e,i,Fn,t.reportAllChanges),zt(()=>{i.value=performance.now()-a.timeStamp,r(!0)})}))})},jn=[.1,.25],cc=(e,t={})=>{ci(Qt(()=>{let n,r=de("CLS",0);const i=Xt(t,oc),u=o=>{for(const c of o)i.h(c);i.i>r.value&&(r.value=i.i,r.entries=i.o,n())},a=qe("layout-shift",u);a&&(n=ce(e,r,jn,t.reportAllChanges),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(u(a.takeRecords()),n(!0))}),ke(()=>{i.i=0,r=de("CLS",0),n=ce(e,r,jn,t.reportAllChanges),zt(()=>n())}),setTimeout(n))}))};let di=0,Pt=1/0,He=0;const dc=e=>{for(const t of e)t.interactionId&&(Pt=Math.min(Pt,t.interactionId),He=Math.max(He,t.interactionId),di=He?(He-Pt)/7+1:0)};let Ut;const qn=()=>Ut?di:performance.interactionCount??0,fc=()=>{"interactionCount"in performance||Ut||(Ut=qe("event",dc,{type:"event",buffered:!0,durationThreshold:0}))};let Vn=0;class lc{constructor(){le(this,"u",[]);le(this,"l",new Map);le(this,"m");le(this,"v")}p(){Vn=qn(),this.u.length=0,this.l.clear()}P(){const t=Math.min(this.u.length-1,Math.floor((qn()-Vn)/50));return this.u[t]}h(t){var i,u;if((i=this.m)==null||i.call(this,t),!t.interactionId&&t.entryType!=="first-input")return;const n=this.u.at(-1);let r=this.l.get(t.interactionId);if(r||this.u.length<10||t.duration>n.T){if(r?t.duration>r.T?(r.entries=[t],r.T=t.duration):t.duration===r.T&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],T:t.duration},this.l.set(r.id,r),this.u.push(r)),this.u.sort((a,o)=>o.T-a.T),this.u.length>10){const a=this.u.splice(10);for(const o of a)this.l.delete(o.id)}(u=this.v)==null||u.call(this,r)}}}const fi=e=>{const t=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?e():(e=Qt(e),document.addEventListener("visibilitychange",e,{once:!0}),t(()=>{e(),document.removeEventListener("visibilitychange",e)}))},$n=[200,500],hc=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&ct(()=>{fc();let n,r=de("INP");const i=Xt(t,lc),u=o=>{fi(()=>{for(const s of o)i.h(s);const c=i.P();c&&c.T!==r.value&&(r.value=c.T,r.entries=c.entries,n())})},a=qe("event",u,{durationThreshold:t.durationThreshold??40});n=ce(e,r,$n,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(u(a.takeRecords()),n(!0))}),ke(()=>{i.p(),r=de("INP"),n=ce(e,r,$n,t.reportAllChanges)}))})};class vc{constructor(){le(this,"m")}h(t){var n;(n=this.m)==null||n.call(this,t)}}const Bn=[2500,4e3],pc=(e,t={})=>{ct(()=>{const n=si();let r,i=de("LCP");const u=Xt(t,vc),a=c=>{t.reportAllChanges||(c=c.slice(-1));for(const s of c)u.h(s),s.startTime<n.firstHiddenTime&&(i.value=Math.max(s.startTime-je(),0),i.entries=[s],r())},o=qe("largest-contentful-paint",a);if(o){r=ce(e,i,Bn,t.reportAllChanges);const c=Qt(()=>{a(o.takeRecords()),o.disconnect(),r(!0)});for(const s of["keydown","click","visibilitychange"])addEventListener(s,()=>fi(c),{capture:!0,once:!0});ke(s=>{i=de("LCP"),r=ce(e,i,Bn,t.reportAllChanges),zt(()=>{i.value=performance.now()-s.timeStamp,r(!0)})})}})},Gn=[800,1800],Mt=e=>{document.prerendering?ct(()=>Mt(e)):document.readyState!=="complete"?addEventListener("load",()=>Mt(e),!0):setTimeout(e)},gc=(e,t={})=>{let n=de("TTFB"),r=ce(e,n,Gn,t.reportAllChanges);Mt(()=>{const i=Yt();i&&(n.value=Math.max(i.responseStart-je(),0),n.entries=[i],r(!0),ke(()=>{n=de("TTFB",0),r=ce(e,n,Gn,t.reportAllChanges),r(!0)}))})};function mc(e){var t,n=((t=e.entries[0])===null||t===void 0?void 0:t.startTime)||0;return performance.timeOrigin+n}function Ce(e){return{value:e.value,rating:e.rating,delta:e.delta,navigationType:e.navigationType,id:e.id,timestamp:Math.floor(mc(e)),navigationStart:Math.floor(performance.timeOrigin)}}var yc=function(){var e=null,t=H(),n=t==null?void 0:t.document,r=t==null?void 0:t.location,i=function(o,c){return _(void 0,void 0,void 0,function(){var s,d,f;return E(this,function(h){return s=function(l){var v;if(!l)return"";var m=l;try{m=decodeURI(l)}catch(y){(v=o.loggerProvider)===null||v===void 0||v.error("Malformed URI sequence: ",y)}return m},n===void 0?[2]:(d=s(r==null?void 0:r.href),f={"[Amplitude] Page Domain":(r==null?void 0:r.hostname)||"","[Amplitude] Page Location":d,"[Amplitude] Page Path":s(r==null?void 0:r.pathname),"[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":d.split("?")[0]},pc(function(l){f["[Amplitude] LCP"]=Ce(l)}),ci(function(l){f["[Amplitude] FCP"]=Ce(l)}),hc(function(l){f["[Amplitude] INP"]=Ce(l)}),cc(function(l){f["[Amplitude] CLS"]=Ce(l)}),gc(function(l){f["[Amplitude] TTFB"]=Ce(l)}),e=function(){n.visibilityState==="hidden"&&e&&(c.track(ac,f),n.removeEventListener("visibilitychange",e),e=null)},n.addEventListener("visibilitychange",e),[2])})})},u=function(o){return _(void 0,void 0,void 0,function(){return E(this,function(c){return[2,o]})})},a=function(){return _(void 0,void 0,void 0,function(){return E(this,function(o){return e&&(n==null||n.removeEventListener("visibilitychange",e)),[2]})})};return{name:uc,type:"enrichment",setup:i,execute:u,teardown:a}},bc="utm_campaign",Ec="utm_content",_c="utm_id",Tc="utm_medium",wc="utm_source",Sc="utm_term",Hn="dclid",Wn="fbclid",Kn="gbraid",zn="gclid",Yn="ko_click_id",Xn="li_fat_id",Qn="msclkid",Jn="rtd_cid",Zn="ttclid",er="twclid",tr="wbraid",Jt={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},nr=function(e){var t=e.split(".");return t.length<=2?e:t.slice(t.length-2,t.length).join(".")},Ic=function(e){return Object.values(e).every(function(t){return!t})},Ac=function(e,t,n,r,i){i===void 0&&(i=!0),e.referrer;var u=e.referring_domain,a=Rt(e,["referrer","referring_domain"]),o=t||{};o.referrer;var c=o.referring_domain,s=Rt(o,["referrer","referring_domain"]);if(kc(n.excludeReferrers,e.referring_domain))return r.debug("This is not a new campaign because ".concat(e.referring_domain," is in the exclude referrer list.")),!1;if(!i&&Ic(e)&&t)return r.debug("This is not a new campaign because this is a direct traffic in the same session."),!1;var d=JSON.stringify(a)!==JSON.stringify(s),f=nr(u||"")!==nr(c||""),h=!t||d||f;return h?r.debug("This is a new campaign. An $identify event will be sent."):r.debug("This is not a new campaign because it's the same as the previous one."),h},kc=function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=""),e.some(function(n){return n instanceof RegExp?n.test(t):n===t})},Pc=function(e,t){var n=S(S({},Jt),e),r=Object.entries(n).reduce(function(i,u){var a,o=C(u,2),c=o[0],s=o[1];return i.setOnce("initial_".concat(c),(a=s??t.initialEmptyValue)!==null&&a!==void 0?a:"EMPTY"),s?i.set(c,s):i.unset(c)},new Ze);return ur(r)},Cc=function(e){var t=e;return t?(t.startsWith(".")&&(t=t.substring(1)),[new RegExp("".concat(t.replace(".","\\."),"$"))]):[]},Rc=function(){function e(){}return e.prototype.parse=function(){return _(this,void 0,void 0,function(){return E(this,function(t){return[2,S(S(S(S({},Jt),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},e.prototype.getUtmParam=function(){var t=et(),n=t[bc],r=t[Ec],i=t[_c],u=t[Tc],a=t[wc],o=t[Sc];return{utm_campaign:n,utm_content:r,utm_id:i,utm_medium:u,utm_source:a,utm_term:o}},e.prototype.getReferrer=function(){var t,n,r={referrer:void 0,referring_domain:void 0};try{r.referrer=document.referrer||void 0,r.referring_domain=(n=(t=r.referrer)===null||t===void 0?void 0:t.split("/")[2])!==null&&n!==void 0?n:void 0}catch{}return r},e.prototype.getClickIds=function(){var t,n=et();return t={},t[Hn]=n[Hn],t[Wn]=n[Wn],t[Kn]=n[Kn],t[zn]=n[zn],t[Yn]=n[Yn],t[Xn]=n[Xn],t[Qn]=n[Qn],t[Jn]=n[Jn],t[Zn]=n[Zn],t[er]=n[er],t[tr]=n[tr],t},e}(),Oc=function(){function e(t,n){var r;this.shouldTrackNewCampaign=!1,this.options=S({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:Cc((r=n.cookieOptions)===null||r===void 0?void 0:r.domain)},t),this.storage=n.cookieStorage,this.storageKey=_u(n.apiKey,"MKTG"),this.currentCampaign=Jt,this.sessionTimeout=n.sessionTimeout,this.lastEventTime=n.lastEventTime,this.logger=n.loggerProvider,n.loggerProvider.log("Installing web attribution tracking.")}return e.prototype.init=function(){return _(this,void 0,void 0,function(){var t,n;return E(this,function(r){switch(r.label){case 0:return[4,this.fetchCampaign()];case 1:return n=C.apply(void 0,[r.sent(),2]),this.currentCampaign=n[0],this.previousCampaign=n[1],t=this.lastEventTime?cr(this.sessionTimeout,this.lastEventTime):!0,Ac(this.currentCampaign,this.previousCampaign,this.options,this.logger,t)?(this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)]):[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.fetchCampaign=function(){return _(this,void 0,void 0,function(){return E(this,function(t){switch(t.label){case 0:return[4,Promise.all([new Rc().parse(),this.storage.get(this.storageKey)])];case 1:return[2,t.sent()]}})})},e.prototype.generateCampaignEvent=function(t){this.shouldTrackNewCampaign=!1;var n=Pc(this.currentCampaign,this.options);return t&&(n.event_id=t),n},e.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},e}(),Lc=function(e){J(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(n,r,i){n===void 0&&(n="");var u,a;return arguments.length>2?(u=r,a=i):typeof r=="string"?(u=r,a=void 0):(u=r==null?void 0:r.userId,a=r),ee(this._init(S(S({},a),{userId:u,apiKey:n})))},t.prototype._init=function(n){var r,i,u;return _(this,void 0,void 0,function(){var a,o,c,s,d,f,h=this;return E(this,function(l){switch(l.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,fa(n.apiKey,n,this)]);case 1:return a=l.sent(),a.fetchRemoteConfig?[4,Va(a)]:[3,4];case 2:return o=l.sent(),[4,o.generateJoinedConfig()];case 3:a=l.sent(),l.label=4;case 4:return[4,e.prototype._init.call(this,a)];case 5:return l.sent(),this.logBrowserOptions(a),vr(this.config.defaultTracking)?(c=Wu(this.config),this.webAttribution=new Oc(c,this.config),[4,this.webAttribution.init()]):[3,7];case 6:l.sent(),l.label=7;case 7:return s=et(),d=Number.isNaN(Number(s.ampSessionId))?void 0:Number(s.ampSessionId),this.setSessionId((u=(i=(r=n.sessionId)!==null&&r!==void 0?r:d)!==null&&i!==void 0?i:this.config.sessionId)!==null&&u!==void 0?u:Date.now()),f=Oe(n.instanceName),f.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),this.config.offline===wu?[3,9]:[4,this.add(Ra()).promise];case 8:l.sent(),l.label=9;case 9:return[4,this.add(new ru).promise];case 10:return l.sent(),[4,this.add(new Xu).promise];case 11:return l.sent(),[4,this.add(new vu).promise];case 12:return l.sent(),Ca(this.config),ju(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add(Pa()).promise]):[3,14];case 13:l.sent(),l.label=14;case 14:return qu(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add(ka()).promise]):[3,16];case 15:l.sent(),l.label=16;case 16:return pr(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add(wa(Hu(this.config))).promise]):[3,18];case 17:l.sent(),l.label=18;case 18:return mr(this.config.autocapture)?(this.config.loggerProvider.debug("Adding user interactions plugin (autocapture plugin)"),[4,this.add(Ks($u(this.config))).promise]):[3,20];case 19:l.sent(),l.label=20;case 20:return yr(this.config.autocapture)?(this.config.loggerProvider.debug("Adding frustration interactions plugin"),[4,this.add(Js(Bu(this.config))).promise]):[3,22];case 21:l.sent(),l.label=22;case 22:return gr(this.config.autocapture)?(this.config.loggerProvider.debug("Adding network tracking plugin"),[4,this.add(ic(Gu(this.config))).promise]):[3,24];case 23:l.sent(),l.label=24;case 24:return Vu(this.config.autocapture)?(this.config.loggerProvider.debug("Adding web vitals plugin"),[4,this.add(yc()).promise]):[3,26];case 25:l.sent(),l.label=26;case 26:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 27:return l.sent(),f.eventBridge.setEventReceiver(function(v){h.track(v.eventType,v.eventProperties)}),[2]}})})},t.prototype.getUserId=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.userId},t.prototype.setUserId=function(n){if(!this.config){this.q.push(this.setUserId.bind(this,n));return}this.config.loggerProvider.debug("function setUserId: ",n),(n!==this.config.userId||n===void 0)&&(this.config.userId=n,this.timeline.onIdentityChanged({userId:n}),lu(n,this.config.instanceName))},t.prototype.getDeviceId=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.deviceId},t.prototype.setDeviceId=function(n){if(!this.config){this.q.push(this.setDeviceId.bind(this,n));return}this.config.loggerProvider.debug("function setDeviceId: ",n),n!==this.config.deviceId&&(this.config.deviceId=n,this.timeline.onIdentityChanged({deviceId:n}),hu(n,this.config.instanceName))},t.prototype.reset=function(){this.setDeviceId(be()),this.setUserId(void 0)},t.prototype.getIdentity=function(){var n,r;return{deviceId:(n=this.config)===null||n===void 0?void 0:n.deviceId,userId:(r=this.config)===null||r===void 0?void 0:r.userId,userProperties:this.userProperties}},t.prototype.getOptOut=function(){return this.config.optOut},t.prototype.getSessionId=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.sessionId},t.prototype.setSessionId=function(n){var r,i=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,n)),ee(Promise.resolve());if(n===this.config.sessionId)return ee(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",n);var u=this.getSessionId();u!==n&&this.timeline.onSessionIdChanged(n);var a=this.config.lastEventTime,o=(r=this.config.lastEventId)!==null&&r!==void 0?r:-1;this.config.sessionId=n,this.config.lastEventTime=void 0,this.config.pageCounter=0,an(this.config.defaultTracking)&&(u&&a&&i.push(this.track(cn,void 0,{device_id:this.previousSessionDeviceId,event_id:++o,session_id:u,time:a+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var c=this.trackCampaignEventIfNeeded(++o,i);return an(this.config.defaultTracking)&&i.push(this.track(sn,void 0,{event_id:c?++o:o,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,ee(Promise.all(i))},t.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},t.prototype.setTransport=function(n){if(!this.config){this.q.push(this.setTransport.bind(this,n));return}this.config.transportProvider=Tr(n)},t.prototype.identify=function(n,r){if(Et(n)){var i=n._q;n._q=[],n=bt(new Ze,i)}return r!=null&&r.user_id&&this.setUserId(r.user_id),r!=null&&r.device_id&&this.setDeviceId(r.device_id),e.prototype.identify.call(this,n,r)},t.prototype.groupIdentify=function(n,r,i,u){if(Et(i)){var a=i._q;i._q=[],i=bt(new Ze,a)}return e.prototype.groupIdentify.call(this,n,r,i,u)},t.prototype.revenue=function(n,r){if(Et(n)){var i=n._q;n._q=[],n=bt(new Ji,i)}return e.prototype.revenue.call(this,n,r)},t.prototype.trackCampaignEventIfNeeded=function(n,r){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var i=this.webAttribution.generateCampaignEvent(n);return r?r.push(this.track(i).promise):this.track(i),this.config.loggerProvider.log("Tracking attribution."),!0},t.prototype.process=function(n){return _(this,void 0,void 0,function(){var r,i,u;return E(this,function(a){return r=Date.now(),i=cr(this.config.sessionTimeout,this.config.lastEventTime),u=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),n.event_type!==sn&&n.event_type!==cn&&(!n.session_id||n.session_id===this.getSessionId())&&(i||u?(this.setSessionId(r),u&&this.config.loggerProvider.log("Created a new session for new campaign.")):i||this.trackCampaignEventIfNeeded()),n.event_type===pe.IDENTIFY&&n.user_properties&&(this.userProperties=this.getOperationAppliedUserProperties(n.user_properties)),[2,e.prototype.process.call(this,n)]})})},t.prototype.logBrowserOptions=function(n){try{var r=S(S({},n),{apiKey:n.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(r))}catch(i){this.config.loggerProvider.error("Error logging browser config",i)}},t}(Qi),xc=function(){var e=new Lc;return{init:q(e.init.bind(e),"init",F(e),j(e,["config"])),add:q(e.add.bind(e),"add",F(e),j(e,["config.apiKey","timeline.plugins"])),remove:q(e.remove.bind(e),"remove",F(e),j(e,["config.apiKey","timeline.plugins"])),track:q(e.track.bind(e),"track",F(e),j(e,["config.apiKey","timeline.queue.length"])),logEvent:q(e.logEvent.bind(e),"logEvent",F(e),j(e,["config.apiKey","timeline.queue.length"])),identify:q(e.identify.bind(e),"identify",F(e),j(e,["config.apiKey","timeline.queue.length"])),groupIdentify:q(e.groupIdentify.bind(e),"groupIdentify",F(e),j(e,["config.apiKey","timeline.queue.length"])),setGroup:q(e.setGroup.bind(e),"setGroup",F(e),j(e,["config.apiKey","timeline.queue.length"])),revenue:q(e.revenue.bind(e),"revenue",F(e),j(e,["config.apiKey","timeline.queue.length"])),flush:q(e.flush.bind(e),"flush",F(e),j(e,["config.apiKey","timeline.queue.length"])),getUserId:q(e.getUserId.bind(e),"getUserId",F(e),j(e,["config","config.userId"])),setUserId:q(e.setUserId.bind(e),"setUserId",F(e),j(e,["config","config.userId"])),getDeviceId:q(e.getDeviceId.bind(e),"getDeviceId",F(e),j(e,["config","config.deviceId"])),setDeviceId:q(e.setDeviceId.bind(e),"setDeviceId",F(e),j(e,["config","config.deviceId"])),reset:q(e.reset.bind(e),"reset",F(e),j(e,["config","config.userId","config.deviceId"])),getSessionId:q(e.getSessionId.bind(e),"getSessionId",F(e),j(e,["config"])),setSessionId:q(e.setSessionId.bind(e),"setSessionId",F(e),j(e,["config"])),extendSession:q(e.extendSession.bind(e),"extendSession",F(e),j(e,["config"])),setOptOut:q(e.setOptOut.bind(e),"setOptOut",F(e),j(e,["config"])),setTransport:q(e.setTransport.bind(e),"setTransport",F(e),j(e,["config"])),getIdentity:q(e.getIdentity.bind(e),"getIdentity",F(e),j(e,["config"])),getOptOut:q(e.getOptOut.bind(e),"getOptOut",F(e),j(e,["config"]))}};const li=xc();var Nc=li.init,hi=li.track;const Dc=()=>{const n=window.__AMPLITUDE_API_KEY__||"96213b0c760d4cf5e61d62edef063956";Nc(n,{defaultTracking:!0,logLevel:te.Warn,flushIntervalMillis:3e4,flushQueueSize:50,useBatch:!0,serverUrl:"https://api2.amplitude.com/batch"})},Uc=e=>{hi("Page View",{page:e,timestamp:Date.now()})},Mc=(e,t)=>{hi(e,t)};Dc();const Fc=bi.lazy(()=>gi(()=>import("./HomePage.js").then(e=>e.H),__vite__mapDeps([0,1,2,3,4]))),jc=new wi;function qc(){const e=Ti();return se.useEffect(()=>{const t=e.pathname==="/"?"Home":e.pathname.slice(1);Uc(t)},[e]),null}function Vc(){return se.useEffect(()=>{Mc("Test Event",{source:"App.tsx"})},[]),R.jsx(Si,{client:jc,children:R.jsxs(Ei,{children:[R.jsx(qc,{}),R.jsx(Pi,{children:R.jsx(se.Suspense,{fallback:R.jsx(Ci,{}),children:R.jsxs(_i,{children:[R.jsx(yt,{path:"/",element:R.jsx(Fc,{})}),R.jsx(yt,{path:"/projects",element:R.jsx(Zt,{to:"/",replace:!0})}),R.jsx(yt,{path:"/capture",element:R.jsx(Zt,{to:"/",replace:!0})})]})})})]})})}mi.createRoot(document.getElementById("root")).render(R.jsx(Vc,{}));export{Ci as L,Kc as a,Wc as u};
