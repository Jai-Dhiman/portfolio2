import{j as r}from"./three.js";import{u as i}from"./ui.js";import{a as o}from"./HomePage.js";import{L as c}from"./index.js";import{a as l}from"./animations.js";import"./vendor.js";const m=()=>i({queryKey:["experiences"],queryFn:o,select:e=>[...e].sort((a,n)=>{if(!a.startDate)return 1;if(!n.startDate)return-1;const t=new Date(a.startDate),s=new Date(n.startDate);return isNaN(t.getTime())?1:isNaN(s.getTime())?-1:s.getTime()-t.getTime()})}),d=({experience:e})=>{const a=t=>{if(!t)return"";try{return(typeof t=="string"?new Date(t):t).getFullYear().toString()}catch(s){return console.error("Error formatting date:",s),""}},n=()=>{if(!(e!=null&&e.startDate))return"";const t=a(e.startDate);if(e.current)return`${t} - Present`;if(e.endDate){const s=a(e.endDate);return t===s?t:`${t} - ${s}`}return t};return r.jsx(l,{tiltMaxAngleX:3,tiltMaxAngleY:3,perspective:1e3,transitionSpeed:1e3,scale:1.02,className:"w-full h-full",children:r.jsxs("div",{className:"card relative",children:[r.jsx("div",{className:"absolute top-6 right-6 text-sm text-primary-300 dark:text-dark-200",children:n()}),r.jsx("h3",{className:"pr-24",children:r.jsx("span",{className:"text-primary-500 dark:text-accent-coral",children:e.title})}),r.jsx("p",{className:"font-semibold text-accent-sage dark:text-accent-coral",children:e.company}),r.jsx("p",{className:"text-primary-400 dark:text-dark-100 mt-2 mb-4",children:e.description}),e.company==="Capture"&&r.jsxs("a",{href:"#projects",className:"btn-primary text-sm hover-lift inline-flex items-center gap-2 mt-4",children:[r.jsx("span",{children:"View All Projects"}),r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})})},j=()=>{const{data:e,isLoading:a,error:n}=m();return a?r.jsx(c,{}):n?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("p",{className:"text-xl font-author text-red-500",children:"Error loading Experiences"})}):r.jsxs("section",{id:"experience",className:"py-16 scroll-mt-24",children:[r.jsx("h2",{className:"section-heading",children:"Experience"}),r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-1",children:e==null?void 0:e.sort((t,s)=>t.current&&!s.current?-1:!t.current&&s.current?1:new Date(s.startDate).getTime()-new Date(t.startDate).getTime()).map(t=>r.jsx(d,{experience:t},t.id))})]})};export{j as ExperienceSection};
